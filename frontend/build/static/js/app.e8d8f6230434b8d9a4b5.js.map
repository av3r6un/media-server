{"version":3,"sources":["webpack:///./src/services/auth-header.js","webpack:///./src/services/exchange.service.js","webpack:///src/components/Header.vue","webpack:///./src/components/Header.vue?2e21","webpack:///./src/components/Header.vue","webpack:///./src/services/user.service.js","webpack:///src/App.vue","webpack:///./src/App.vue?9a2e","webpack:///./src/App.vue","webpack:///./src/services/auth.service.js","webpack:///./src/store/index.js","webpack:///src/views/Index.vue","webpack:///./src/views/Index.vue?db41","webpack:///./src/views/Index.vue","webpack:///src/views/Auth.vue","webpack:///./src/views/Auth.vue?fc9e","webpack:///./src/views/Auth.vue","webpack:///src/views/Search.vue","webpack:///./src/views/Search.vue?d510","webpack:///./src/views/Search.vue","webpack:///src/views/MediaElements.vue","webpack:///./src/views/MediaElements.vue?3583","webpack:///./src/views/MediaElements.vue","webpack:///src/components/Selecter.vue","webpack:///./src/components/Selecter.vue?2cca","webpack:///./src/components/Selecter.vue","webpack:///src/components/Player.vue","webpack:///./src/components/Player.vue?ac96","webpack:///./src/components/Player.vue","webpack:///src/views/MediaElement.vue","webpack:///./src/views/MediaElement.vue?e731","webpack:///./src/views/MediaElement.vue","webpack:///src/components/FileUploader.vue","webpack:///./src/components/FileUploader.vue?370c","webpack:///./src/components/FileUploader.vue","webpack:///src/views/EditMeta.vue","webpack:///./src/views/EditMeta.vue?8a3f","webpack:///./src/views/EditMeta.vue","webpack:///src/views/EditElement.vue","webpack:///./src/views/EditElement.vue?aa89","webpack:///./src/views/EditElement.vue","webpack:///src/views/Watch.vue","webpack:///./src/views/Watch.vue?82f7","webpack:///./src/views/Watch.vue","webpack:///src/components/Checkbox.vue","webpack:///./src/components/Checkbox.vue?fe1d","webpack:///./src/components/Checkbox.vue","webpack:///src/views/User.vue","webpack:///./src/views/User.vue?03b3","webpack:///./src/views/User.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["authHeader","state","arguments","length","undefined","user","JSON","parse","localStorage","getItem","resp","Authorization","main","refresh","cookieValue","csftToken","document","cookie","split","find","startsWith","axios","defaults","headers","common","Exchange","url","parameters","this","msg","get","params","then","data","status","_this","message","catch","err","console","error","HTTP_X_CSRFTOKEN","_this2","log","FormData","post","_this3","daTa","delete","_this4","navigator","sendBeacon","stringify_default","Header","name","backend","exchange_service","showSearchResult","searchResultLoading","keyword","results","staticUrl","showQueue","queueLength","methods","keywordChange","event","target","value","retrieveResults","body","redirect","location","href","updateQueue","type","storage","detail","queue","logout","$store","dispatch","mounted","window","addEventListener","computed","filteredList","filter","result","computedObj","extends_default","keys_default","some","key","toLowerCase","includes","filteredListStyle","lazyLoad","emptyResult","beforeDestroy","removeEventListener","components_Header","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","directives","rawName","expression","attrs","placeholder","domProps","on","input","$event","composing","focus","style","_l","uid","click","src","_s","year","class","media_type","original_name","imdb_rate","_e","staticRenderFns","alt","src_components_Header","__webpack_require__","normalizeComponent","ssrContext","user_service","granted","removeItem","response","accs_token","token","setItem","reload","finally","App","components","vueHeader","manageTitle","title","$route","getMe","pathname","notFound","meta","selectortype_template_index_0_src_App","id","getters","isAuthenticated","ref","src_App","App_normalizeComponent","getCSRFToken","auth_service","smth","Vue","use","Vuex","initialState","uuid","store","Store","mutations","login","userInfo","register","actions","_ref","commit","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","abrupt","AuthService","userData","promise_default","resolve","stop","_ref2","_callee2","_context2","_ref3","_callee3","_context3","_ref4","_callee4","_context4","Index","advice","continue","new","unwatched","movies","tvs","loading","retrieveAdvice","hideFromAdvice","created","views_Index","width","height","points","w_uid","parseInt","runtime","additional","tv","movie","seen","src_views_Index","Index_normalizeComponent","Auth","username","password","lostPassword","email","showLogin","showLost","handleLogin","handleLost","showLostForm","views_Auth","submit","preventDefault","apply","required","autocomplete","autofocus","$set","src_views_Auth","Auth_normalizeComponent","Search","extra","imageStorage","duplicates","currentItem","addNewItem","index","prevText","$refs","buttonAdd","textContent","mediaType","givenId","splice","paintRate","percent","checkDuplicate","tmdbId","query","k","views_Search","tmdb_id","tmdb_rate","kp_rate","overview","refInFor","src_views_Search","Search_normalizeComponent","MediaElements","media","retrieveMedia","views_MediaElements","element","src_views_MediaElements","MediaElements_normalizeComponent","Selecter","props","options","multiple","Boolean","default","String","updatable","defaultValue","selectionsOpened","selected","selectThis","$emit","selectOption","autoSelect","toggleSelections","selectionOpened","defaultSelection","classList","remove","add","clearSelection","keyboardHandler","which","$attrs","updated","$nextTick","components_Selecter","option","src_components_Selecter","Selecter_normalizeComponent","Player","videoSource","preview","subtitle","subLang","Number","local","filename","playerLangs","eng","rus","playerInfo","duration","time","player","mainPlayer","showPlayer","video","applyListeners","playerStarted","manageScreen","playerBuffered","playerPaused","beforeWindowUnload","userAgent","match","deactivateListeners","encodeUrl","fileType","date","Date","setHours","getHours","D","getFullYear","getMonth","getDate","btoa","querySelector","downloadSubtitles","api","subs","blob","getFiles","Blob","URL","createObjectURL","insertAdjacentHTML","getResp","_blob","subtitles","textTracks","mode","sendPlayerData","initPlayer","filePath","subPath","Playerjs","file","poster","components_Player","src_components_Player","Player_normalizeComponent","MediaElement","selecter","msplayer","currentSeason","episodeForm","activeSeason","episodeInfo","season","episode","retreiveMediaInfo","detectSeason","MSPlayer","makePluralSeasons","count","makePluralEpisodes","showEpisodeForm","markAsSeen","prevButton","seenButton","innerHTML","setTimeout","transformScroll","deltaY","scrollSize","deltaX","eWrap","scrollLeft","changeSeasonMeta","seasonsMeta","seasons_meta","episodeInput","max","addNewEpisode","mediaUid","kp_id","imdb_id","episodeButton","selection","scrollToLastElement","downloadEl","uId","aDownloads","downloadInfo","download_id","push","ep","queueEpisode","dispatchEvent","CustomEvent","scroll","left","scrollWidth","behavior","progressBar","detectUnwatchedSeason","Math","min","toConsumableArray_default","season_items","unwatchedSeason","obj","concat","set_default","changeSeason","$router","replace","s","playerData","beacon","c","views_MediaElement","last_year","age","seasons","episodes","slogan","model","callback","$$v","downloaded","deleteEl","trailer","wheel","tabindex","video_source","sub","langs","sub_lang","unload","src_views_MediaElement","MediaElement_normalizeComponent","FileUploader","image","draggable","existing","color","dragStyle","imageUrl","uploaded","defaultColor","hoverBg","imagePreview","handleDrop","fileInput","files","dataTransfer","makePreview","handleDragEnd","handleDragStart","makeExisting","deleteSelected","styleReplacer","str","arr","strLast","join","cssStyles","--bg-color","--hover-bg","components_FileUploader","drop","dragleave","dragover","for","change","src_components_FileUploader","FileUploader_normalizeComponent","EditMeta","voiceLoading","voices","selectedVoice","defaultLangs","episodePreview","episodeMeta","videoLang","default_langs","retrieveVoices","applyOld","video_lang","short","chosen_voice","voiceSelection","handleEditMeta","saved","formData","forEach","append","episodeUid","editMetaButton","parseMeta","imdbID","autoMetaButton","e","voice","video_src","sub_src","addPreview","deletePreview","views_EditMeta","src_views_EditMeta","EditMeta_normalizeComponent","EditElement","iud","imageContents","movieMeta","movieInfo","originalName","logo","backdrop","applyData","handelEditInfo","_this5","editInfoButton","views_EditElement","voiceLang","handleEditInfo","src_views_EditElement","EditElement_normalizeComponent","Watch","nghbr","timestamp","views_Watch","prev_episode","next_episode","src_views_Watch","Watch_normalizeComponent","Checkbox","label","isSelected","changeInput","checked","components_Checkbox","User","CheckBox","Checkbox_normalizeComponent","history","downloads","profile","autoSearch","shareDownloads","avatar","chosenVoice","newAvatar","isAdmin","newUser","isHistoryLong","queueList","retrieveUserInfo","updateUserInfo","user_info","auto_search","share_downloads","is_admin","user_color","newUserCreate","newUserButton","changeUserInfo","validateFormData","changeUserInfoButton","changeCheckbox","translateFunc","clearQueue","downloadAll","postData","queue_id","saveQueue","qIndex","fname","clearEl","downloadElFromQ","localQueue","clearElFromQ","qType","qId","clearDownloads","_this6","clearDownload","dUid","_this7","userFormValid","views_User","disabled","deleteFromHistory","q","d","progressStyles","convertToText","src_views_User","User_normalizeComponent","Router","router","routes","path","component","beforeEach","to","from","isAuth","matched","route","requiresAuth","config","productionTip","VeeValidate","el","h","template"],"mappings":"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","file":"static/js/app.e8d8f6230434b8d9a4b5.js","sourcesContent":["export default function authHeader(state = 'main') {\n  const user = JSON.parse(localStorage.getItem('user'));\n  const actions = { main: 'accs_token', refresh: 'rfsh_token' };\n  let resp = null;\n  if (user) {\n    resp = { Authorization: `Bearer ${user[actions[state]]}` };\n  }\n  return resp;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/auth-header.js","import axios from 'axios';\nimport authHeader from './auth-header';\n\nfunction getCSRFToken() {\n  const cookieValue = document.cookie\n    .split('; ')\n    .find(cookie => cookie.startsWith('csrftoken='));\n  if (cookieValue) {\n    return cookieValue.split('=')[1];\n  }\n  return null;\n}\n\nconst csftToken = getCSRFToken();\n\n// eslint-disable-next-line\naxios.defaults.headers.common['HTTP_X_CSRFTOKEN'] = csftToken;\n\n\nclass Exchange {\n  async get(url, parameters = null) {\n    this.msg = null;\n    return axios\n      .get(url, { headers: authHeader(), params: parameters })\n      .then((resp) => {\n        if (resp.data.status === 'success') {\n          return resp.data;\n        }\n        this.msg = resp.data.message;\n        return null;\n      })\n      .catch(err => console.error(err));\n  }\n\n  async getResp(url) {\n    delete axios.defaults.headers.common.HTTP_X_CSRFTOKEN;\n    this.msg = null;\n    return axios\n      .get(url)\n      .then((resp) => {\n        if (resp.data) {\n          return resp.data;\n        }\n        this.msg = `Error while requesting ${url}`;\n        return null;\n      })\n      .catch(err => console.log(err));\n  }\n\n  async getFiles(url) {\n    this.msg = null;\n    return axios\n      .get(url, { headers: authHeader() })\n      .then(resp => resp.data)\n      .catch(err => console.error(err));\n  }\n\n  async post(url, data) {\n    this.msg = null;\n    this.headers = authHeader();\n    this.headers['Content-Type'] = data instanceof FormData\n      ? 'multipart/form-data'\n      : 'application/json';\n    return axios\n      .post(url, data, { headers: this.headers })\n      .then((resp) => {\n        if (resp.data.status === 'success') {\n          if (resp.data.message) {\n            this.msg = resp.data.message;\n          }\n          return resp.data;\n        }\n        this.msg = resp.data.message;\n        return null;\n      })\n      .catch(err => console.error(err));\n  }\n\n  async delete(url, daTa = {}) {\n    this.msg = null;\n    this.headers = authHeader();\n    this.headers['Content-Type'] = 'application/json';\n    return axios\n      .delete(url, { data: daTa, headers: this.headers })\n      .then((resp) => {\n        if (resp.data.status === 'success') {\n          return resp.data;\n        }\n        this.msg = resp.data.message;\n        return null;\n      })\n      .catch(err => console.error(err));\n  }\n\n  async beacon(data) {\n    this.msg = null;\n    this.data = data;\n    this.data.headers = authHeader();\n    return navigator.sendBeacon('/api/watch/beacon', JSON.stringify(this.data));\n  }\n}\n\n\nexport default Exchange;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/exchange.service.js","<template>\n  <header class=\"header\">\n    <div class=\"header_navbar\">\n      <div class=\"header_navbar-item\">\n        <div class=\"logo_wrapper\">\n          <a href=\"/\" class=\"base_link\">\n            <img src=\"/static/logo.png\" alt=\"logo\">\n          </a>\n        </div>\n      </div>\n      <div class=\"header_navbar-item\">\n        <a href=\"/tv\" class=\"base_link\">Сериалы</a>\n      </div>\n      <div class=\"header_navbar-item\">\n        <a href=\"/movie\" class=\"base_link\">Фильмы</a>\n      </div>\n      <div class=\"header_navbar-item\">\n        <a href=\"/video\" class=\"base_link\">Видео</a>\n      </div>\n      <div class=\"header_navbar-item last\">\n        <div class=\"search_wrapper\">\n          <input type=\"text\"\n            class=\"input_wide solo_input\"\n            placeholder=\"Поиск\"\n            v-model=\"keyword\"\n            @input=\"keywordChange\"\n            @focus=\"retrieveResults\">\n          <transition name=\"toggle\">\n          <div class=\"search_result\" v-show=\"showSearchResult\"\n          :style=\"filteredListStyle\">\n            <div class=\"search_result_item\"\n              v-for=\"result in filteredList\"\n              :key=\"result.uid\"\n              @click=\"redirect(result.uid)\">\n              <div class=\"item_wrapper\">\n                <div class=\"item_poster\">\n                  <img :src=\"`/i/${result.poster}`\" class=\"small_poster\">\n                </div>\n                <div class=\"item_info\">\n                  <div class=\"info_name\">{{result.name}} ({{result.year}})</div>\n                  <div class=\"info_or_name\">\n                    <i class=\"ms-icon wh-20\"\n                      :class=\"result.media_type\"></i>\n                    {{result.original_name}}\n                  </div>\n                  <div class=\"info_rate\">\n                    <div class=\"rate_name\">iMDB</div>\n                    {{result.imdb_rate}}\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"empty_result\" v-show=\"lazyLoad\"\n              :style=\"!emptyResult ? 'margin: 10px 0 !important;' : ''\">\n              <div class=\"empty_text\" v-if=\"emptyResult\">Ничего не найдено</div>\n              <a :href=\"keyword ? `/search?k=${keyword}` : '/search'\"\n                class=\"base_link hidden_link\">Глобальный поиск</a>\n            </div>\n          </div>\n          </transition>\n        </div>\n        <div class=\"user_item\">\n          <a class=\"base_link\" href=\"/user\">\n            <i class=\"ms-icon user-circle wh-30\"></i>\n          </a>\n          <div class=\"queue_counter\"\n            v-show=\"showQueue\">{{queueLength}}</div>\n        </div>\n      </div>\n    </div>\n  </header>\n</template>\n<script>\nimport Exchange from '../services/exchange.service';\n\nexport default {\n  name: 'Header',\n  data() {\n    return {\n      backend: new Exchange(),\n      showSearchResult: false,\n      searchResultLoading: false,\n      keyword: null,\n      results: [],\n      staticUrl: '',\n      showQueue: null,\n      queueLength: null,\n    };\n  },\n  methods: {\n    keywordChange() {\n      if (event.target.value !== '') {\n        this.showSearchResult = true;\n      } else {\n        this.showSearchResult = false;\n      }\n    },\n    retrieveResults() {\n      if (this.results.length <= 0) {\n        this.backend\n          .get('/api/all/')\n          .then((resp) => {\n            if (resp) {\n              this.results = resp.body;\n            } else {\n              console.log(this.backend.message);\n            }\n          })\n          .catch(err => console.error(err));\n      }\n    },\n    redirect(url) {\n      location.href = url;\n    },\n    updateQueue(event) {\n      if (event) {\n        if (event.type === 'queueUpdate') {\n          const storage = JSON.parse(event.detail.storage);\n          this.queueLength = storage ? storage.length : null;\n          if (this.queueLength) {\n            this.showQueue = true;\n          } else {\n            this.showQueue = false;\n          }\n        }\n      } else {\n        const queue = JSON.parse(localStorage.getItem('queue'));\n        if (queue && queue.length) {\n          this.showQueue = true;\n          this.queueLength = queue.length;\n        }\n      }\n    },\n    logout() {\n      this.$store.dispatch('logout');\n    },\n  },\n  mounted() {\n    this.updateQueue();\n    window.addEventListener('queueUpdate', this.updateQueue);\n  },\n  computed: {\n    filteredList() {\n      return this.results.filter((result) => {\n        const computedObj = { ...result };\n        return this.keyword\n          ? Object.keys(computedObj).some(key => (`${computedObj[key]}`).toLowerCase().includes(this.keyword.toLowerCase()))\n          : null;\n      });\n    },\n    filteredListStyle() {\n      let height = 100;\n      if (this.filteredList.length > 1 && this.filteredList.length < 5) {\n        height = 120 * this.filteredList.length;\n      } else if (this.filteredList.length >= 5) {\n        height = 480;\n      } else {\n        height = 120;\n      }\n      return `height: ${height}px`;\n    },\n    lazyLoad() {\n      return !(this.filteredList.length > 1);\n    },\n    emptyResult() {\n      return this.filteredList.length < 1;\n    },\n  },\n  beforeDestroy() {\n    window.removeEventListener('queueUpdate', this.updateQueue);\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@import '@/assets/variables.scss';\n.header{\n  max-width: 1024px;\n  margin: 0 auto;\n  height: 70px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  &_navbar{\n    display: flex;\n    align-items: center;\n    width: 100%;\n    padding: 0 10px;\n    font-family: $text-font;\n    color: $white;\n    font-size: 18px;\n    text-shadow: $text-shadow;\n    &-item{\n      margin-right: 20px;\n      &:last-child{\n        margin-right: 0;\n      }\n      &.last{\n        margin-left: auto;\n        display: flex;\n        align-items: center;\n        .user_item{\n          display: flex;\n          position: relative;\n          .queue_counter{\n            position: absolute;\n            right: -5px;\n            top: -3px;\n            font-size: 12px;\n            background: $notred;\n            padding: 2.5px 5px;\n            border-radius: 50%;\n          }\n        }\n        .search_wrapper{\n          width: 250px;\n          margin-right: 10px;\n          position: relative;\n          z-index: 1;\n          .search_result{\n            top: 35px;\n            position: absolute;\n            width: 100%;\n            height: 100px;\n            border-radius: 5px;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            background: $dark;\n            overflow: auto;\n            box-shadow: $block-shadow;\n            &::-webkit-scrollbar{\n              -webkit-appearance: none;\n              width: 0;\n            }\n            &_item{\n              width: 100%;\n              padding: 10px;\n              transition: background .4s ease-out;\n              cursor: pointer;\n              &:hover{\n                background: rgba(29, 29, 29, 0.50);\n              }\n              .item_wrapper{\n                width: 100%;\n                max-height: 100px;\n                display: flex;\n                .item_poster{\n                  margin-right: 20px;\n                  .small_poster{\n                    height: 100px;\n                    aspect-ratio: 2 / 3;\n                    object-fit: contain;\n                    border-radius: 5px;\n                  }\n                }\n                .item_info{\n                  display: flex;\n                  flex-direction: column;\n                  justify-content: space-between;\n                  padding: 10px 0;\n                  .info_name{\n                    font-size: 17px;\n                    font-family: $title-font;\n                    text-overflow: ellipsis;\n                    -webkit-line-clamp: 4;\n                    -webkit-box-orient: vertical;\n                    display: -webkit-box;\n                    overflow-y: hidden;\n                  }\n                  .info_or_name{\n                    display: flex;\n                    align-items: center;\n                    font-size: 16px;\n                    .ms-icon{\n                      font-size: 16px;\n                      margin-right: 5px;\n                    }\n                  }\n                  .info_rate{\n                    display: flex;\n                    font-size: 14px;\n                    .rate_name{\n                      margin-right: 5px;\n                    }\n                  }\n                }\n              }\n            }\n            .empty_text{\n              margin-bottom: 20px;\n            }\n            .empty_result{\n              text-align: center;\n              margin: auto 0;\n            }\n          }\n        }\n        .ms-icon{\n          font-size: 20px;\n        }\n      }\n      .solo_input{\n        margin-bottom: 0;\n        background: $light-white;\n        border: 1px solid $light-black;\n        color: $white;\n        backdrop-filter: blur(10px);\n      }\n    }\n  }\n}\n.toggle-enter-to, .toggle-leave{\n  max-height: 200px;\n  opacity: 1;\n}\n.toggle-enter-active, .toggle-leave-active {\n  transition: all .35s ease-in-out;\n}\n.toggle-enter, .toggle-leave-to {\n  max-height: 0;\n  opacity: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Header.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"header\"},[_c('div',{staticClass:\"header_navbar\"},[_vm._m(0),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_vm._m(2),_vm._v(\" \"),_vm._m(3),_vm._v(\" \"),_c('div',{staticClass:\"header_navbar-item last\"},[_c('div',{staticClass:\"search_wrapper\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.keyword),expression:\"keyword\"}],staticClass:\"input_wide solo_input\",attrs:{\"type\":\"text\",\"placeholder\":\"Поиск\"},domProps:{\"value\":(_vm.keyword)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.keyword=$event.target.value},_vm.keywordChange],\"focus\":_vm.retrieveResults}}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"toggle\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSearchResult),expression:\"showSearchResult\"}],staticClass:\"search_result\",style:(_vm.filteredListStyle)},[_vm._l((_vm.filteredList),function(result){return _c('div',{key:result.uid,staticClass:\"search_result_item\",on:{\"click\":function($event){return _vm.redirect(result.uid)}}},[_c('div',{staticClass:\"item_wrapper\"},[_c('div',{staticClass:\"item_poster\"},[_c('img',{staticClass:\"small_poster\",attrs:{\"src\":(\"/i/\" + (result.poster))}})]),_vm._v(\" \"),_c('div',{staticClass:\"item_info\"},[_c('div',{staticClass:\"info_name\"},[_vm._v(_vm._s(result.name)+\" (\"+_vm._s(result.year)+\")\")]),_vm._v(\" \"),_c('div',{staticClass:\"info_or_name\"},[_c('i',{staticClass:\"ms-icon wh-20\",class:result.media_type}),_vm._v(\"\\n                  \"+_vm._s(result.original_name)+\"\\n                \")]),_vm._v(\" \"),_c('div',{staticClass:\"info_rate\"},[_c('div',{staticClass:\"rate_name\"},[_vm._v(\"iMDB\")]),_vm._v(\"\\n                  \"+_vm._s(result.imdb_rate)+\"\\n                \")])])])])}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.lazyLoad),expression:\"lazyLoad\"}],staticClass:\"empty_result\",style:(!_vm.emptyResult ? 'margin: 10px 0 !important;' : '')},[(_vm.emptyResult)?_c('div',{staticClass:\"empty_text\"},[_vm._v(\"Ничего не найдено\")]):_vm._e(),_vm._v(\" \"),_c('a',{staticClass:\"base_link hidden_link\",attrs:{\"href\":_vm.keyword ? (\"/search?k=\" + _vm.keyword) : '/search'}},[_vm._v(\"Глобальный поиск\")])])],2)])],1),_vm._v(\" \"),_c('div',{staticClass:\"user_item\"},[_vm._m(4),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showQueue),expression:\"showQueue\"}],staticClass:\"queue_counter\"},[_vm._v(_vm._s(_vm.queueLength))])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header_navbar-item\"},[_c('div',{staticClass:\"logo_wrapper\"},[_c('a',{staticClass:\"base_link\",attrs:{\"href\":\"/\"}},[_c('img',{attrs:{\"src\":\"/static/logo.png\",\"alt\":\"logo\"}})])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header_navbar-item\"},[_c('a',{staticClass:\"base_link\",attrs:{\"href\":\"/tv\"}},[_vm._v(\"Сериалы\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header_navbar-item\"},[_c('a',{staticClass:\"base_link\",attrs:{\"href\":\"/movie\"}},[_vm._v(\"Фильмы\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header_navbar-item\"},[_c('a',{staticClass:\"base_link\",attrs:{\"href\":\"/video\"}},[_vm._v(\"Видео\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"base_link\",attrs:{\"href\":\"/user\"}},[_c('i',{staticClass:\"ms-icon user-circle wh-30\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-087c9ae0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Header.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-087c9ae0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Header.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-087c9ae0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-087c9ae0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Header.vue\n// module id = null\n// module chunks = ","import axios from 'axios';\nimport authHeader from './auth-header';\n\n\nclass UserService {\n  async getMe() {\n    this.msg = 'auth';\n    if (localStorage.getItem('user')) {\n      return axios\n        .get('/auth/get-me/', { headers: authHeader('main') })\n        .then((resp) => {\n          if (resp.data.status === 'success' && resp.data.granted) {\n            this.msg = 'granted';\n          } else {\n            localStorage.removeItem('user');\n            this.msg = 'auth';\n          }\n          return this.msg;\n        })\n        .catch((err) => {\n          if (err.response.status === 401) {\n            if (err.response.data.msg === 'TNF') {\n              this.msg = 'auth';\n            } else if (err.response.data.msg === 'THE') {\n              this.refresh();\n              this.msg = 'refresh';\n            }\n          }\n        });\n    }\n    return this.msg;\n  }\n\n  async refresh() {\n    this.user = JSON.parse(localStorage.getItem('user'));\n    return axios\n      .post('/auth/refresh/', {}, { headers: authHeader('refresh') })\n      .then((resp) => {\n        if (resp.data.status === 'success') {\n          this.user.accs_token = resp.data.token;\n        }\n        localStorage.setItem('user', JSON.stringify(this.user));\n        location.reload();\n      })\n      .catch((err) => {\n        console.log(err);\n        if (err.response.data.msg === 'THE') {\n          this.msg = 'auth';\n          localStorage.removeItem('user');\n          location.href = '/sign-in';\n        }\n      })\n      .finally(() => this.msg);\n  }\n}\n\nexport default new UserService();\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/user.service.js","<template>\n  <div id=\"app\">\n    <vueHeader v-if=\"$store.getters.isAuthenticated && !notFound\" ref=\"header\" />\n    <router-view/>\n  </div>\n</template>\n\n<script>\nimport Header from '@/components/Header';\nimport UserService from './services/user.service';\n\nexport default {\n  name: 'App',\n  data() {\n    return {};\n  },\n  components: { vueHeader: Header },\n  methods: {\n    manageTitle() {\n      document.title = `${this.$route.name} » MediaServer`;\n    },\n  },\n  mounted() {\n    UserService.getMe()\n      .then((resp) => {\n        if (resp === 'auth' || resp === 'refresh') {\n          if (location.pathname !== '/sign-in') {\n            location.href = '/sign-in';\n          }\n        } else if (resp !== 'granted') {\n          console.log(resp);\n        }\n      });\n    this.manageTitle();\n  },\n  computed: {\n    notFound() {\n      return this.$route.meta.type === 'undefined';\n    },\n  },\n};\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.$store.getters.isAuthenticated && !_vm.notFound)?_c('vueHeader',{ref:\"header\"}):_vm._e(),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-69d46b24\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-69d46b24\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-69d46b24\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import axios from 'axios';\nimport authHeader from './auth-header';\n\nfunction getCSRFToken() {\n  const cookieValue = document.cookie\n    .split('; ')\n    .find(cookie => cookie.startsWith('csrftoken='));\n  if (cookieValue) {\n    return cookieValue.split('=')[1];\n  }\n  return null;\n}\n\nconst csftToken = getCSRFToken();\n\n\n// eslint-disable-next-line\naxios.defaults.headers.common['HTTP_X_CSRFTOKEN'] = csftToken;\n\n\nclass AuthService {\n  async login(user) {\n    this.smth = null;\n    return axios\n      .post('/auth/', user)\n      .then((resp) => {\n        if (resp.data.status === 'success') {\n          localStorage.setItem('user', JSON.stringify(resp.data.body));\n          console.log(resp);\n        }\n        return resp.data.body;\n      })\n      .catch(err => console.log(err));\n  }\n\n  async logout() {\n    this.smth = null;\n    return axios\n      .get('/auth/logout/', { headers: authHeader('main') })\n      .then(resp => resp.data.message)\n      .catch(err => console.error(err))\n      .finally(() => {\n        localStorage.removeItem('user');\n        localStorage.removeItem('queue');\n        localStorage.removeItem('aDownloads');\n        location.href = '/';\n      });\n  }\n\n  async register(user) {\n    this.smth = null;\n    return axios\n      .post('/auth/register/', user)\n      .then(resp => resp.data.message)\n      .catch(err => console.error(err));\n  }\n}\n\nexport default new AuthService();\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/auth.service.js","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport AuthService from '@/services/auth.service';\n\n\nVue.use(Vuex);\n\nconst user = JSON.parse(localStorage.getItem('user'));\nconst initialState = user\n  ? { isAuthenticated: true, uuid: user.uid }\n  : { isAuthenticated: false, uuid: null };\n\n\nexport default new Vuex.Store({\n  state: initialState,\n  mutations: {\n    login(state, userInfo) {\n      state.uuid = userInfo.uid;\n      state.isAuthenticated = true;\n    },\n    logout(state) {\n      state.isAuthenticated = false;\n    },\n    register(state, userInfo) {\n      state.uuid = userInfo.uid;\n      state.isAuthenticated = false;\n    },\n    refresh(state) {\n      state.isAuthenticated = true;\n    },\n  },\n  actions: {\n    async login({ commit }, userInfo) {\n      return AuthService.login(userInfo)\n        .then((userData) => {\n          commit('login', userData);\n          return Promise.resolve(userData);\n        });\n    },\n    async logout({ commit }) {\n      AuthService.logout();\n      commit('logout');\n    },\n    async refresh({ commit }, userInfo) {\n      return AuthService.refresh(userInfo)\n        .then(() => commit('refresh'));\n    },\n    async register({ commit }, userInfo) {\n      return AuthService.register(userInfo)\n        .then((userData) => {\n          commit('register', userData);\n          return Promise.resolve(userData);\n        });\n    },\n  },\n  getters: {\n    isAuthenticated: state => state.isAuthenticated,\n    uuid: state => state.uuid,\n  },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","<template>\n  <article class=\"index page_wrapper\">\n    <div class=\"loading\" v-if=\"loading\">\n      <svg width=\"32px\" height=\"24px\">\n        <polyline id=\"back\" points=\"1 6 4 6 6 11 10 1 12 6 15 6\"></polyline>\n        <polyline id=\"front\" points=\"1 6 4 6 6 11 10 1 12 6 15 6\"></polyline>\n      </svg>\n    </div>\n    <div class=\"page_content\" v-else>\n      <div class=\"advice\">\n        <div class=\"block_title\">Продолжить просмотр</div>\n        <div class=\"advice_wrapper\" ref=\"aWrapper\">\n          <div class=\"advice_continue\" v-for=\"a in advice.continue\" :key=\"a.uid\">\n            <div class=\"continue_card\">\n              <img :src=\"`/i/${a.picture}`\" alt=\"\" class=\"base_image preview_image\">\n              <div class=\"continue_actions\">\n                <div class=\"continue_action play_button\">\n                  <a :href=\"a.type === 'episode'\n                    ? `/watch/${a.uid}?c=${a.continue}`\n                    : `/${a.uid}?c=${a.continue}`\" class=\"base_link\">\n                    <i class=\"ms-icon play wh-20\"></i>\n                  </a>\n                </div>\n                <div class=\"continue_action hide_button\">\n                  <a class=\"base_link\" @click=\"hideFromAdvice(a.w_uid)\">\n                    <i class=\"ms-icon xmark wh-20\"></i>\n                  </a>\n                </div>\n                <div class=\"continue_runtime\">\n                  <div class=\"runtime_wrapper\">\n                    ~\n                     {{ parseInt(parseInt(a.runtime, 10)-(parseInt(a.continue, 10)/60),10) }} мин\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"continue_name\">{{ a.name }}</div>\n            <div class=\"continue_info\">{{ a.additional }}</div>\n          </div>\n          <div class=\"advice_new\" v-for=\"a in advice.new\" :key=\"a.uid\">\n            <div class=\"new_card\">\n              <img :src=\"`/i/${a.picture}`\" alt=\"\" class=\"base_image preview_image\">\n              <div class=\"new_actions\">\n                <div class=\"new_action play_button\">\n                  <a :href=\"a.type === 'movie' ? `/${a.uid}` : `/watch/${a.uid}`\" class=\"base_link\">\n                    <i class=\"ms-icon play wh-20\"></i>\n                  </a>\n                </div>\n              </div>\n            </div>\n            <div class=\"new_name\" :title=\"a.name\">{{ a.name }}</div>\n            <div class=\"new_info\" :title=\"a.additional\">{{ a.additional }}</div>\n          </div>\n        </div>\n      </div>\n      <div class=\"tvs\">\n        <div class=\"block_title\">Сериалы</div>\n        <div class=\"tvs_wrapper\">\n          <div class=\"tv_item\" v-for=\"tv in unwatched.tvs\" :key=\"tv.uid\">\n            <a :href=\"`/${tv.uid}`\" class=\"base_link\">\n              <div class=\"tv_image\">\n                <img :src=\"`/i/${tv.poster}`\" alt=\"\" class=\"base_image\" v-if=\"tv.poster\">\n              </div>\n              <div class=\"tv_name\">{{ tv.name }} ({{ tv.original_name }})</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class=\"movies\">\n        <div class=\"block_title\">Фильмы</div>\n        <div class=\"movies_wrapper\">\n          <div class=\"movie_item\" v-for=\"movie in unwatched.movies\" :key=\"movie.uid\">\n            <a :href=\"`/${movie.uid}${!movie.seen && movie.continue > 0\n              ? `?c=${movie.continue}` : ''}`\" class=\"base_link\">\n              <div class=\"movie_image\">\n                <img :src=\"`/i/${movie.poster}`\" alt=\"\" class=\"base_image\" v-if=\"movie.poster\">\n              </div>\n              <div class=\"movie_name\">{{ movie.name }} ({{ movie.original_name }})</div>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </article>\n</template>\n<script>\nimport Exchange from '../services/exchange.service';\n\nexport default {\n  name: 'Index',\n  data() {\n    return {\n      backend: new Exchange(),\n      advice: {\n        continue: null,\n        new: null,\n      },\n      unwatched: {\n        movies: null,\n        tvs: null,\n      },\n      loading: false,\n      movies: null,\n      tvs: null,\n    };\n  },\n  methods: {\n    retrieveAdvice() {\n      this.loading = true;\n      this.backend\n        .get('/api/user/advice')\n        .then((resp) => {\n          if (resp) {\n            this.advice.continue = resp.body.unwatched;\n            this.advice.new = resp.body.new;\n            this.unwatched.movies = resp.body.movies;\n            this.unwatched.tvs = resp.body.tvs;\n          }\n        })\n        .catch(err => console.error(err))\n        .finally(() => {\n          this.loading = false;\n        });\n    },\n    hideFromAdvice() {},\n  },\n  created() {\n    this.retrieveAdvice();\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@import \"@/assets/variables.scss\";\n\n.index{\n  .page_content {\n    .advice, .movies, .tvs {\n      .block_title{\n        margin-bottom: 15px;\n        font-size: 24px;\n        font-family: $title-font;\n        color: $white;\n        font-weight: bold;\n        margin-left: 10px;\n      }\n    }\n    .advice{\n      margin-bottom: 20px;\n      &_wrapper{\n        display: flex;\n        overflow-x: auto;\n        &::-webkit-scrollbar{\n          -webkit-appearance: none;\n        }\n        .advice{\n          &_continue{\n            margin-right: 10px;\n            &:last-child{\n              margin-right: 0;\n            }\n            .continue{\n              &_card{\n                position: relative;\n                border-radius: 8px;\n                &:hover .continue_actions{\n                  visibility: visible;\n                }\n              }\n              &_action{\n                background: $blue;\n                color: $white;\n                width: 40px;\n                height: 40px;\n                font-size: 20px;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                border-radius: 50%;\n                margin-right: 10px;\n                & > a{\n                  height: 100%;\n                  width: 100%;\n                  display: flex;\n                  align-items: center;\n                  justify-content: center;\n                }\n                &:last-child{\n                  margin-right: 0;\n                }\n                &.play_button i{\n                  margin-left: 3px;\n                }\n              }\n              &_actions{\n                visibility: hidden;\n                position: absolute;\n                box-sizing: border-box;\n                border-radius: 8px;\n                width: 100%;\n                height: calc(100% - 3px);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                top: 0;\n                background: rgba($color: #000000, $alpha: .3);\n              }\n              &_runtime{\n                visibility: visible;\n                position: absolute;\n                right: 10px;\n                bottom: 10px;\n                font-family: $text-font;\n                color: $white;\n                padding: 3px 5px;\n                background: rgba($color: #000000, $alpha: .5);\n                border-radius: 5px;\n              }\n              &_name{\n                font-family: $title-font;\n                color: $white;\n                max-width: 280px;\n                margin: 0 auto;\n                margin-bottom: 5px;\n              }\n              &_info{\n                font-family: $text-font;\n                color: $white;\n                max-width: 280px;\n                overflow-y: hidden;\n                text-overflow: ellipsis;\n                display: block;\n                white-space: nowrap;\n                margin: 0 auto;\n              }\n            }\n          }\n        }\n      }\n    }\n    .tvs{\n      margin-bottom: 20px;\n      &_wrapper{\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\n        justify-items: center;\n        grid-gap: 20px;\n        .base_link{\n          font-family: $text-font;\n          color: $white;\n          font-size: 16px;\n          text-align: center;\n        }\n        .tv{\n          &_item{\n            max-width: 100%;\n          }\n          &_image{\n            margin-bottom: 5px;\n            img{\n              object-fit: cover;\n              aspect-ratio: 2 / 3;\n              width: 100%;\n              border-radius: 5px;\n              pointer-events: none;\n            }\n          }\n          &_name{\n            max-width: 190px;\n            margin: 0 auto;\n          }\n        }\n      }\n    }\n    .movies{\n      margin-bottom: 20px;\n      &_wrapper{\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\n        justify-items: center;\n        grid-gap: 20px;\n        .base_link{\n          font-family: $text-font;\n          color: $white;\n          font-size: 16px;\n          text-align: center;\n        }\n        .movie{\n          &_item{\n            max-width: 100%;\n          }\n          &_image{\n            margin-bottom: 5px;\n            img{\n              object-fit: cover;\n              aspect-ratio: 2 / 3;\n              width: 100%;\n              border-radius: 5px;\n              pointer-events: none;\n            }\n          }\n          &_name{\n            max-width: 190px;\n            margin: 0 auto;\n          }\n        }\n      }\n\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/Index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"index page_wrapper\"},[(_vm.loading)?_c('div',{staticClass:\"loading\"},[_c('svg',{attrs:{\"width\":\"32px\",\"height\":\"24px\"}},[_c('polyline',{attrs:{\"id\":\"back\",\"points\":\"1 6 4 6 6 11 10 1 12 6 15 6\"}}),_vm._v(\" \"),_c('polyline',{attrs:{\"id\":\"front\",\"points\":\"1 6 4 6 6 11 10 1 12 6 15 6\"}})])]):_c('div',{staticClass:\"page_content\"},[_c('div',{staticClass:\"advice\"},[_c('div',{staticClass:\"block_title\"},[_vm._v(\"Продолжить просмотр\")]),_vm._v(\" \"),_c('div',{ref:\"aWrapper\",staticClass:\"advice_wrapper\"},[_vm._l((_vm.advice.continue),function(a){return _c('div',{key:a.uid,staticClass:\"advice_continue\"},[_c('div',{staticClass:\"continue_card\"},[_c('img',{staticClass:\"base_image preview_image\",attrs:{\"src\":(\"/i/\" + (a.picture)),\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"continue_actions\"},[_c('div',{staticClass:\"continue_action play_button\"},[_c('a',{staticClass:\"base_link\",attrs:{\"href\":a.type === 'episode'\n                  ? (\"/watch/\" + (a.uid) + \"?c=\" + (a.continue))\n                  : (\"/\" + (a.uid) + \"?c=\" + (a.continue))}},[_c('i',{staticClass:\"ms-icon play wh-20\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"continue_action hide_button\"},[_c('a',{staticClass:\"base_link\",on:{\"click\":function($event){return _vm.hideFromAdvice(a.w_uid)}}},[_c('i',{staticClass:\"ms-icon xmark wh-20\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"continue_runtime\"},[_c('div',{staticClass:\"runtime_wrapper\"},[_vm._v(\"\\n                  ~\\n                   \"+_vm._s(parseInt(parseInt(a.runtime, 10)-(parseInt(a.continue, 10)/60),10))+\" мин\\n                \")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"continue_name\"},[_vm._v(_vm._s(a.name))]),_vm._v(\" \"),_c('div',{staticClass:\"continue_info\"},[_vm._v(_vm._s(a.additional))])])}),_vm._v(\" \"),_vm._l((_vm.advice.new),function(a){return _c('div',{key:a.uid,staticClass:\"advice_new\"},[_c('div',{staticClass:\"new_card\"},[_c('img',{staticClass:\"base_image preview_image\",attrs:{\"src\":(\"/i/\" + (a.picture)),\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"new_actions\"},[_c('div',{staticClass:\"new_action play_button\"},[_c('a',{staticClass:\"base_link\",attrs:{\"href\":a.type === 'movie' ? (\"/\" + (a.uid)) : (\"/watch/\" + (a.uid))}},[_c('i',{staticClass:\"ms-icon play wh-20\"})])])])]),_vm._v(\" \"),_c('div',{staticClass:\"new_name\",attrs:{\"title\":a.name}},[_vm._v(_vm._s(a.name))]),_vm._v(\" \"),_c('div',{staticClass:\"new_info\",attrs:{\"title\":a.additional}},[_vm._v(_vm._s(a.additional))])])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"tvs\"},[_c('div',{staticClass:\"block_title\"},[_vm._v(\"Сериалы\")]),_vm._v(\" \"),_c('div',{staticClass:\"tvs_wrapper\"},_vm._l((_vm.unwatched.tvs),function(tv){return _c('div',{key:tv.uid,staticClass:\"tv_item\"},[_c('a',{staticClass:\"base_link\",attrs:{\"href\":(\"/\" + (tv.uid))}},[_c('div',{staticClass:\"tv_image\"},[(tv.poster)?_c('img',{staticClass:\"base_image\",attrs:{\"src\":(\"/i/\" + (tv.poster)),\"alt\":\"\"}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"tv_name\"},[_vm._v(_vm._s(tv.name)+\" (\"+_vm._s(tv.original_name)+\")\")])])])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"movies\"},[_c('div',{staticClass:\"block_title\"},[_vm._v(\"Фильмы\")]),_vm._v(\" \"),_c('div',{staticClass:\"movies_wrapper\"},_vm._l((_vm.unwatched.movies),function(movie){return _c('div',{key:movie.uid,staticClass:\"movie_item\"},[_c('a',{staticClass:\"base_link\",attrs:{\"href\":(\"/\" + (movie.uid) + (!movie.seen && movie.continue > 0\n            ? (\"?c=\" + (movie.continue)) : ''))}},[_c('div',{staticClass:\"movie_image\"},[(movie.poster)?_c('img',{staticClass:\"base_image\",attrs:{\"src\":(\"/i/\" + (movie.poster)),\"alt\":\"\"}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"movie_name\"},[_vm._v(_vm._s(movie.name)+\" (\"+_vm._s(movie.original_name)+\")\")])])])}),0)])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7fccf51a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7fccf51a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Index.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7fccf51a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7fccf51a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Index.vue\n// module id = null\n// module chunks = ","<template>\n  <article class=\"auth page_wrapper\">\n    <div class=\"auth_header\"></div>\n    <div class=\"page_content\">Добро пожаловать в медиацентр!</div>\n    <div class=\"auth_wrapper\" v-show=\"showLogin\">\n      <div class=\"container_title\">Авторизация</div>\n      <form class=\"auth_form\" @submit.prevent=\"handleLogin\">\n        <input type=\"text\"\n          class=\"input_wide\"\n          required\n          autocomplete=\"off\"\n          placeholder=\"Логин\"\n          autofocus\n          v-model=\"user.username\">\n        <input type=\"password\"\n          class=\"input_wide\"\n          required\n          autocomplete=\"off\"\n          placeholder=\"Пароль\"\n          v-model=\"user.password\">\n        <div class=\"form_row\">\n          <a class=\"base_link\" @click=\"showLostForm\">Забыли пароль?</a>\n        </div>\n        <button type=\"submit\" class=\"btn btn_submit\" ref=\"loginButton\">Войти</button>\n      </form>\n    </div>\n    <div class=\"lostpassword_wrapper\" v-show=\"showLost\">\n      <div class=\"container_title\">Восттановить пароль</div>\n      <form class=\"lost_form\" @submit.prevent=\"handleLost\">\n        <input type=\"text\"\n          class=\"input_wide\"\n          required\n          autocomplete=\"off\"\n          placeholder=\"Е-mail\"\n          v-model=\"lostPassword.email\">\n        <button type=\"submit\" class=\"btn btn_submit\">Восстановить</button>\n      </form>\n    </div>\n  </article>\n</template>\n<script>\nexport default {\n  name: 'Auth',\n  data() {\n    return {\n      user: {\n        username: null,\n        password: null,\n      },\n      lostPassword: {\n        email: null,\n      },\n      showLogin: true,\n      showLost: false,\n    };\n  },\n  methods: {\n    handleLogin() {\n      this.$store.dispatch('login', this.user)\n        .then((resp) => {\n          console.log(resp);\n          location.href = '/';\n        });\n    },\n    handleLost() {},\n    showLostForm() {},\n  },\n  mounted() {\n    if (this.$store.state.isAuthenticated) {\n      location.href = '/';\n    }\n  },\n  created() {},\n};\n</script>\n<style lang=\"scss\" scoped>\n@import \"@/assets/variables.scss\";\n.auth_header{\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 170px;\n  background: url('/static/page_header.png') no-repeat 50% 50% / cover;\n}\n.page_content{\n  text-align: center;\n  color: $white;\n  font-family: $title-font;\n  font-size: 22px;\n  margin-bottom: 20px;\n}\n.auth{\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100vh;\n  flex-direction: column;\n  &_wrapper{\n    padding: 20px 30px;\n    background: $white;\n    border-radius: 10px;\n    width: 500px;\n  }\n  &_form{\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    font-family: $text-font;\n    .form_row{\n      margin-bottom: 10px;\n      margin-left: 10px;\n      color: $blue;\n      font-weight: bold;\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/Auth.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"auth page_wrapper\"},[_c('div',{staticClass:\"auth_header\"}),_vm._v(\" \"),_c('div',{staticClass:\"page_content\"},[_vm._v(\"Добро пожаловать в медиацентр!\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showLogin),expression:\"showLogin\"}],staticClass:\"auth_wrapper\"},[_c('div',{staticClass:\"container_title\"},[_vm._v(\"Авторизация\")]),_vm._v(\" \"),_c('form',{staticClass:\"auth_form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleLogin.apply(null, arguments)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.username),expression:\"user.username\"}],staticClass:\"input_wide\",attrs:{\"type\":\"text\",\"required\":\"\",\"autocomplete\":\"off\",\"placeholder\":\"Логин\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.user.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"username\", $event.target.value)}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"}],staticClass:\"input_wide\",attrs:{\"type\":\"password\",\"required\":\"\",\"autocomplete\":\"off\",\"placeholder\":\"Пароль\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"password\", $event.target.value)}}}),_vm._v(\" \"),_c('div',{staticClass:\"form_row\"},[_c('a',{staticClass:\"base_link\",on:{\"click\":_vm.showLostForm}},[_vm._v(\"Забыли пароль?\")])]),_vm._v(\" \"),_c('button',{ref:\"loginButton\",staticClass:\"btn btn_submit\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Войти\")])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showLost),expression:\"showLost\"}],staticClass:\"lostpassword_wrapper\"},[_c('div',{staticClass:\"container_title\"},[_vm._v(\"Восттановить пароль\")]),_vm._v(\" \"),_c('form',{staticClass:\"lost_form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleLost.apply(null, arguments)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.lostPassword.email),expression:\"lostPassword.email\"}],staticClass:\"input_wide\",attrs:{\"type\":\"text\",\"required\":\"\",\"autocomplete\":\"off\",\"placeholder\":\"Е-mail\"},domProps:{\"value\":(_vm.lostPassword.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.lostPassword, \"email\", $event.target.value)}}}),_vm._v(\" \"),_c('button',{staticClass:\"btn btn_submit\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Восстановить\")])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2cf2ffe6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Auth.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2cf2ffe6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Auth.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Auth.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Auth.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2cf2ffe6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Auth.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2cf2ffe6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Auth.vue\n// module id = null\n// module chunks = ","<template>\n  <article class=\"search page_wrapper\">\n    <div class=\"search_wrapper\">\n      <form class=\"global_search\" @submit.prevent=\"retrieveResults\">\n        <input type=\"text\"\n          placeholder=\"Найдётся всё\"\n          class=\"input_wide\"\n          v-model=\"params.keyword\"\n          required>\n        <button type=\"submit\" class=\"btn btn_submit\">Поиск</button>\n      </form>\n    </div>\n    <div class=\"search_results\" v-show=\"results\">\n      <div class=\"search_results-card\"\n        v-for=\"(result, index) in results\" :key=\"result.tmdb_id\">\n        <div class=\"card_poster\">\n          <img :src=\"`${extra.imageStorage}${result.poster}`\"\n            :alt=\"`${result.original_name} poster`\"\n            class=\"bg_image\">\n        </div>\n        <div class=\"card_info\">\n          <div class=\"card_bg\">\n            <img :src=\"`${extra.imageStorage}${result.backdrop}`\"\n              :alt=\"`${result.original_name} background`\" class=\"bg_image\">\n          </div>\n          <div class=\"card_name no_select\">\n            <i class=\"ms-icon wh-30\" :class=\"result.media_type\"></i>\n            {{result.name}} ({{result.year}})\n          </div>\n          <div class=\"card_rating no_select\">\n            <div class=\"rater_object\" :style=\"paintRate(result.tmdb_rate)\">\n              <div class=\"rate_name tmdb\">TMDb</div>\n              <div class=\"rate_value\">{{result.tmdb_rate}}</div>\n            </div>\n            <div class=\"rater_object\" :style=\"paintRate(result.kp_rate)\">\n              <div class=\"rate_name kp\">КП</div>\n              <div class=\"rate_value\">{{result.kp_rate}}</div>\n            </div>\n          </div>\n          <div class=\"card_overview no_select\" :title=\"result.overview\">\n            {{result.overview}}\n          </div>\n          <div class=\"card_action\" v-if=\"!checkDuplicate(result.tmdb_id)\">\n            <button type=\"button\" class=\"btn btn_submit btn_add\"\n              ref=\"buttonAdd\"\n              @click=\"addNewItem(index)\">Добавить</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"search_results-loading\" v-show=\"loading\">\n      <div class=\"loading\">\n        <svg width=\"32px\" height=\"24px\">\n          <polyline id=\"back\" points=\"1 6 4 6 6 11 10 1 12 6 15 6\"></polyline>\n          <polyline id=\"front\" points=\"1 6 4 6 6 11 10 1 12 6 15 6\"></polyline>\n        </svg>\n      </div>\n    </div>\n  </article>\n</template>\n<script>\nimport Exchange from '@/services/exchange.service';\n\nexport default{\n  name: 'Search',\n  data() {\n    return {\n      backend: new Exchange(),\n      params: {\n        keyword: null,\n      },\n      results: null,\n      extra: {\n        imageStorage: null,\n        duplicates: null,\n      },\n      currentItem: {},\n      loading: false,\n    };\n  },\n  methods: {\n    retrieveResults() {\n      if (this.params.keyword) {\n        this.results = null;\n        this.loading = true;\n        this.backend\n          .get('/api/search/', this.params)\n          .then((resp) => {\n            if (resp) {\n              this.extra = resp.extra;\n              this.results = resp.body;\n            } else {\n              console.log(this.backend.msg);\n            }\n          })\n          .catch(err => console.error(err))\n          .finally(() => {\n            this.loading = false;\n          });\n      }\n    },\n    addNewItem(index) {\n      const prevText = this.$refs.buttonAdd[index].textContent;\n      const mediaType = this.results[index].media_type;\n      this.$refs.buttonAdd[index].textContent = '';\n      this.currentItem = this.results[index];\n      let givenId = '';\n      this.backend\n        .post(`/api/${mediaType}/`, this.currentItem)\n        .then((resp) => {\n          if (resp) {\n            givenId = resp.body;\n            this.$refs.buttonAdd[index].textContent = prevText;\n            this.results.splice(index, 1);\n          } else {\n            console.log(this.backend.msg);\n          }\n        })\n        .catch(err => console.error(err))\n        .finally(() => {\n          if (this.results.length === 0) {\n            location.href = givenId.uid;\n          }\n        });\n    },\n    paintRate(value) {\n      let style = 'background: #777777;';\n      if (value && value !== '-') {\n        const percent = parseInt(value * 10, 10);\n        if (percent < 49) {\n          style = 'background: #ff0000';\n        } else if (percent > 70) {\n          style = 'background: #3bb33b';\n        }\n      }\n      return style;\n    },\n    checkDuplicate(tmdbId) {\n      if (this.extra.duplicates) {\n        return this.extra.duplicates.includes(tmdbId);\n      }\n      return false;\n    },\n  },\n  created() {\n    this.params.keyword = this.$route.query.k;\n    this.retrieveResults();\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@import \"@/assets/variables.scss\";\n\n.search{\n  font-family: $text-font;\n  &_wrapper{\n    margin-bottom: 20px;\n    .global_search{\n      display: flex;\n      justify-content: space-between;\n      .input_wide{\n        max-width: 85%;\n        margin-bottom: 0;\n      }\n      .btn_submit{\n        max-width: 100px;\n        box-shadow: $block-shadow;\n      }\n    }\n  }\n  &_results{\n    padding: 0 10px;\n    &-card{\n      width: 100%;\n      display: flex;\n      height: 300px;\n      justify-content: space-between;\n      margin-bottom: 20px;\n      .card_poster{\n        .bg_image{\n          aspect-ratio: 2 / 3;\n          height: 100%;\n          border-radius: 5px;\n        }\n\n      }\n      .card_info{\n        display: flex;\n        position: relative;\n        flex-direction: column;\n        justify-content: space-between;\n        height: 100%;\n        width: calc(80% - 30px);\n        padding: 20px 40px;\n        color: $white;\n        text-shadow: $text-shadow;\n        .card_bg{\n          width: 100%;\n          height: 100%;\n          top: 0;\n          left: 0;\n          position: absolute;\n          z-index: -1;\n          &:after{\n            width: 100%;\n            height: 100%;\n            top: 0;\n            left: 0;\n            background: linear-gradient(to bottom, rgba(0, 0, 0, .5), rgba(0, 0, 0, .5));\n            content: '';\n            position: absolute;\n            border-radius: 5px;\n          }\n          .bg_image{\n            width: 100%;\n            height: 100%;\n            object-fit: cover;\n            border-radius: 5px;\n          }\n        }\n        .card_name{\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          font-family: $title-font;\n          font-weight: bold;\n          font-size: 20px;\n          .ms-icon{\n            margin-right: 10px;\n          }\n        }\n        .card_rating{\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          .rater_object{\n            margin-right: 20px;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            padding: 5px 10px;\n            border-radius: 10px;\n            &:last-child{\n              margin-right: 0;\n            }\n            .rate_name{\n              font-size: 18px;\n            }\n          }\n        }\n        .card_overview{\n          text-overflow: ellipsis;\n          -webkit-line-clamp: 6;\n          -webkit-box-orient: vertical;\n          display: -webkit-box;\n          text-align: justify;\n          font-size: 17px;\n          overflow: hidden;\n          max-height: 102px;\n        }\n        .card_action{\n          max-width: 250px;\n          margin: 0 auto;\n          .btn_add{\n            min-width: 250px;\n            font-size: 18px;\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/Search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"search page_wrapper\"},[_c('div',{staticClass:\"search_wrapper\"},[_c('form',{staticClass:\"global_search\",on:{\"submit\":function($event){$event.preventDefault();return _vm.retrieveResults.apply(null, arguments)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.params.keyword),expression:\"params.keyword\"}],staticClass:\"input_wide\",attrs:{\"type\":\"text\",\"placeholder\":\"Найдётся всё\",\"required\":\"\"},domProps:{\"value\":(_vm.params.keyword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.params, \"keyword\", $event.target.value)}}}),_vm._v(\" \"),_c('button',{staticClass:\"btn btn_submit\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Поиск\")])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.results),expression:\"results\"}],staticClass:\"search_results\"},_vm._l((_vm.results),function(result,index){return _c('div',{key:result.tmdb_id,staticClass:\"search_results-card\"},[_c('div',{staticClass:\"card_poster\"},[_c('img',{staticClass:\"bg_image\",attrs:{\"src\":(\"\" + (_vm.extra.imageStorage) + (result.poster)),\"alt\":((result.original_name) + \" poster\")}})]),_vm._v(\" \"),_c('div',{staticClass:\"card_info\"},[_c('div',{staticClass:\"card_bg\"},[_c('img',{staticClass:\"bg_image\",attrs:{\"src\":(\"\" + (_vm.extra.imageStorage) + (result.backdrop)),\"alt\":((result.original_name) + \" background\")}})]),_vm._v(\" \"),_c('div',{staticClass:\"card_name no_select\"},[_c('i',{staticClass:\"ms-icon wh-30\",class:result.media_type}),_vm._v(\"\\n          \"+_vm._s(result.name)+\" (\"+_vm._s(result.year)+\")\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"card_rating no_select\"},[_c('div',{staticClass:\"rater_object\",style:(_vm.paintRate(result.tmdb_rate))},[_c('div',{staticClass:\"rate_name tmdb\"},[_vm._v(\"TMDb\")]),_vm._v(\" \"),_c('div',{staticClass:\"rate_value\"},[_vm._v(_vm._s(result.tmdb_rate))])]),_vm._v(\" \"),_c('div',{staticClass:\"rater_object\",style:(_vm.paintRate(result.kp_rate))},[_c('div',{staticClass:\"rate_name kp\"},[_vm._v(\"КП\")]),_vm._v(\" \"),_c('div',{staticClass:\"rate_value\"},[_vm._v(_vm._s(result.kp_rate))])])]),_vm._v(\" \"),_c('div',{staticClass:\"card_overview no_select\",attrs:{\"title\":result.overview}},[_vm._v(\"\\n          \"+_vm._s(result.overview)+\"\\n        \")]),_vm._v(\" \"),(!_vm.checkDuplicate(result.tmdb_id))?_c('div',{staticClass:\"card_action\"},[_c('button',{ref:\"buttonAdd\",refInFor:true,staticClass:\"btn btn_submit btn_add\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addNewItem(index)}}},[_vm._v(\"Добавить\")])]):_vm._e()])])}),0),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"search_results-loading\"},[_c('div',{staticClass:\"loading\"},[_c('svg',{attrs:{\"width\":\"32px\",\"height\":\"24px\"}},[_c('polyline',{attrs:{\"id\":\"back\",\"points\":\"1 6 4 6 6 11 10 1 12 6 15 6\"}}),_vm._v(\" \"),_c('polyline',{attrs:{\"id\":\"front\",\"points\":\"1 6 4 6 6 11 10 1 12 6 15 6\"}})])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5dd7a156\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5dd7a156\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Search.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5dd7a156\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5dd7a156\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Search.vue\n// module id = null\n// module chunks = ","<template>\n  <article class=\"main_content page_wrapper\">\n    <div class=\"loading\" v-if=\"loading\">\n      <svg width=\"32px\" height=\"24px\">\n        <polyline id=\"back\" points=\"1 6 4 6 6 11 10 1 12 6 15 6\"></polyline>\n        <polyline id=\"front\" points=\"1 6 4 6 6 11 10 1 12 6 15 6\"></polyline>\n      </svg>\n    </div>\n    <div class=\"page_content\" v-else>\n      <div class=\"elements_wrapper\">\n        <div class=\"media\" v-for=\"element in media\" :key=\"element.uid\">\n          <a :href=\"`/${element.uid}${!element.seen && element.continue > 0\n              ? `?c=${element.continue}`\n              : ''}`\"\n            class=\"base_link\">\n            <div class=\"media_image\">\n              <img :src=\"`/i/${element.poster}`\" v-if=\"element.poster\">\n            </div>\n            <div class=\"media_name\">{{element.name}} ({{element.original_name}})</div>\n          </a>\n        </div>\n      </div>\n    </div>\n  </article>\n</template>\n<script>\nimport Exchange from '../services/exchange.service';\n\nexport default {\n  name: 'MediaElements',\n  data() {\n    return {\n      backend: new Exchange(),\n      mediaType: null,\n      media: null,\n      loading: true,\n    };\n  },\n  methods: {\n    retrieveMedia() {\n      this.backend\n        .get(`/api/${this.mediaType}/`)\n        .then((resp) => {\n          this.media = resp.body;\n        })\n        .catch(err => console.error(err))\n        .finally(() => {\n          this.loading = false;\n          console.log(this.media);\n        });\n    },\n  },\n  created() {\n    this.mediaType = this.$route.meta.mediaType;\n    this.retrieveMedia();\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@import \"@/assets/variables.scss\";\n\n.main_content{\n  .page_content{\n    .elements_wrapper{\n      display: grid;\n      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\n      justify-items: center;\n      align-items: start;\n      grid-gap: 20px;\n      margin-top: 10px;\n      .media{\n        .base_link{\n          font-family: $text-font;\n          color: $white;\n          font-size: 16px;\n          text-align: center;\n        }\n        &_image{\n          max-width: 200px;\n          img{\n            aspect-ratio: 2 / 3;\n            width: 100%;\n            border-radius: 5px;\n            margin-bottom: 5px;\n            pointer-events: none;\n          }\n        }\n        &_name{\n          max-width: 190px;\n          margin: 0 auto;\n        }\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/MediaElements.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"main_content page_wrapper\"},[(_vm.loading)?_c('div',{staticClass:\"loading\"},[_c('svg',{attrs:{\"width\":\"32px\",\"height\":\"24px\"}},[_c('polyline',{attrs:{\"id\":\"back\",\"points\":\"1 6 4 6 6 11 10 1 12 6 15 6\"}}),_vm._v(\" \"),_c('polyline',{attrs:{\"id\":\"front\",\"points\":\"1 6 4 6 6 11 10 1 12 6 15 6\"}})])]):_c('div',{staticClass:\"page_content\"},[_c('div',{staticClass:\"elements_wrapper\"},_vm._l((_vm.media),function(element){return _c('div',{key:element.uid,staticClass:\"media\"},[_c('a',{staticClass:\"base_link\",attrs:{\"href\":(\"/\" + (element.uid) + (!element.seen && element.continue > 0\n            ? (\"?c=\" + (element.continue))\n            : ''))}},[_c('div',{staticClass:\"media_image\"},[(element.poster)?_c('img',{attrs:{\"src\":(\"/i/\" + (element.poster))}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"media_name\"},[_vm._v(_vm._s(element.name)+\" (\"+_vm._s(element.original_name)+\")\")])])])}),0)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4a93836e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/MediaElements.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4a93836e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MediaElements.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MediaElements.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MediaElements.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4a93836e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MediaElements.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4a93836e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/MediaElements.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"selection\">\n    <div class=\"selection_options\" v-show=\"selectionsOpened\" v-if=\"multiple\">\n      <div class=\"selection_options-option\"\n        v-for=\"(value, name, index) in options\" :key=\"index\"\n        @click=\"selectOption(value, name)\">\n        {{ value }}\n      </div>\n    </div>\n    <div class=\"selection_options\" v-show=\"selectionsOpened\" v-else>\n      <div class=\"selection_options-option\" v-for=\"option in options\" :key=\"option\"\n        @click=\"selectThis(option)\">\n        {{ option }}\n      </div>\n    </div>\n    <div class=\"selection_selected option_selected\" v-if=\"selected\" @click=\"clearSelection\">\n      {{ selected }}\n    </div>\n    <div class=\"selection_selected\" v-else @click=\"toggleSelections\" ref=\"defaultSelection\">\n      <div class=\"selection_selected-default\">{{ placeholder }}</div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'selecter',\n  props: {\n    options: {},\n    multiple: {\n      type: Boolean,\n      default: false,\n    },\n    placeholder: {\n      type: String,\n      default: 'Выберите опцию',\n    },\n    updatable: {\n      type: Boolean,\n      default: false,\n    },\n    defaultValue: {\n      type: String,\n      default: null,\n    },\n  },\n  data() {\n    return {\n      selectionsOpened: false,\n      selected: null,\n    };\n  },\n  methods: {\n    selectThis(value) {\n      this.selected = value;\n      this.selectionsOpened = false;\n      this.$emit('input', value);\n    },\n    selectOption(value, name) {\n      this.selected = value;\n      this.selectionsOpened = false;\n      this.$emit('input', name);\n    },\n    autoSelect(value) {\n      if (this.options[value]) {\n        this.selected = this.options[value];\n        this.$emit('input', value);\n      }\n    },\n    toggleSelections() {\n      if (this.selectionOpened) {\n        this.$refs.defaultSelection.classList.remove('opened');\n      } else {\n        this.$refs.defaultSelection.classList.add('opened');\n      }\n      this.selectionsOpened = !this.selectionOpened;\n    },\n    clearSelection() {\n      this.selected = null;\n      this.$emit('input', null);\n    },\n    keyboardHandler() {\n      if (this.selectionsOpened) {\n        if (event.which === 27) {\n          this.selectionsOpened = false;\n          this.$refs.defaultSelection.classList.remove('opened');\n        }\n      }\n    },\n  },\n  mounted() {\n    window.addEventListener('keyup', this.keyboardHandler);\n    if (this.options && this.$attrs.value) {\n      this.selected = this.options[this.$attrs.value];\n    }\n  },\n  beforeDestroy() {\n    window.removeEventListener('keyup', this.keyboardHandler);\n  },\n  updated() {\n    this.$nextTick(() => {\n      if (this.updatable && !this.selected) {\n        if (this.options) {\n          this.selected = this.options[this.$attrs.value];\n        }\n      }\n    });\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@import \"@/assets/variables.scss\";\n.selection{\n  position: relative;\n  margin-bottom: 10px;\n  &_options{\n    position: absolute;\n    z-index: 2;\n    background: $white;\n    font-family: $text-font;\n    top: calc(100% + 5px);\n    max-height: 150px;\n    overflow: auto;\n    border-radius: 5px;\n    width: 100%;\n    &::-webkit-scrollbar{\n      -webkit-appearance: none;\n      width: 4px;\n      background: rgba(217, 217, 217, .7);\n      border-radius: 5px;\n    }\n    &::-webkit-scrollbar-thumb{\n      width: 2px;\n      -webkit-appearance: none;\n      background: $blue;\n      border-radius: 3px;\n    }\n    &-option{\n      font-size: inherit;\n      width: 100%;\n      color: $black;\n      padding: 5px 15px;\n      &:hover{\n        background: $blue;\n        color: $white;\n        cursor: pointer;\n      }\n    }\n  }\n  &_selected{\n    color: $dark;\n    font-size: 16px;\n    background: $white;\n    border-radius: 5px;\n    padding: 5px 10px;\n    height: inherit;\n    font-family: $text-font;\n    cursor: pointer;\n    color: $dark-grey;\n    display: flex;\n    align-items: center;\n    &.opened{\n      &:after{\n        transform: rotateX(180deg);\n      }\n    }\n    &:after{\n      transition: all .3s ease;\n      position: absolute;\n      right: 10px;\n      top: calc(50% - 7px);\n      font-family: 'FontAwesome';\n      font-size: 14px;\n      content: '\\f078';\n      opacity: .7;\n    }\n  }\n  &_selected.option_selected{\n    position: relative;\n    color: $black;\n    &:after{\n      position: absolute;\n      right: 10px;\n      top: calc(50% - 7px);\n      font-family: 'FontAwesome';\n      font-size: 14px;\n      content: '\\f057';\n      opacity: .7;\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Selecter.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"selection\"},[(_vm.multiple)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectionsOpened),expression:\"selectionsOpened\"}],staticClass:\"selection_options\"},_vm._l((_vm.options),function(value,name,index){return _c('div',{key:index,staticClass:\"selection_options-option\",on:{\"click\":function($event){return _vm.selectOption(value, name)}}},[_vm._v(\"\\n      \"+_vm._s(value)+\"\\n    \")])}),0):_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectionsOpened),expression:\"selectionsOpened\"}],staticClass:\"selection_options\"},_vm._l((_vm.options),function(option){return _c('div',{key:option,staticClass:\"selection_options-option\",on:{\"click\":function($event){return _vm.selectThis(option)}}},[_vm._v(\"\\n      \"+_vm._s(option)+\"\\n    \")])}),0),_vm._v(\" \"),(_vm.selected)?_c('div',{staticClass:\"selection_selected option_selected\",on:{\"click\":_vm.clearSelection}},[_vm._v(\"\\n    \"+_vm._s(_vm.selected)+\"\\n  \")]):_c('div',{ref:\"defaultSelection\",staticClass:\"selection_selected\",on:{\"click\":_vm.toggleSelections}},[_c('div',{staticClass:\"selection_selected-default\"},[_vm._v(_vm._s(_vm.placeholder))])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3d50b7de\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Selecter.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3d50b7de\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Selecter.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Selecter.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Selecter.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3d50b7de\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Selecter.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3d50b7de\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Selecter.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"player\" id=\"player\" ref=\"mainPlayer\"></div>\n</template>\n<script>\nimport Exchange from '../services/exchange.service';\n\nexport default {\n  name: 'msplayer',\n  props: {\n    videoSource: {\n      type: String,\n      default: '',\n    },\n    title: {\n      type: String,\n      default: '',\n    },\n    preview: {\n      type: String,\n      default: '',\n    },\n    subtitle: {\n      type: String,\n      default: '',\n    },\n    subLang: {\n      type: String,\n      default: '',\n    },\n    continue: {\n      type: Number,\n      default: 0,\n    },\n    local: {\n      type: Boolean,\n      default: false,\n    },\n    filename: {\n      type: String,\n    },\n  },\n  data() {\n    return {\n      backend: new Exchange(),\n      playerLangs: {\n        eng: 'Английский',\n        rus: 'Русский',\n      },\n      playerInfo: {\n        duration: null,\n        time: null,\n      },\n      player: this.$refs.mainPlayer,\n      showPlayer: false,\n      Player: null,\n      video: null,\n    };\n  },\n  methods: {\n    applyListeners() {\n      this.$refs.mainPlayer.addEventListener('start', this.playerStarted);\n      if ((this.subtitle && this.subLang) || this.local) {\n        this.$refs.mainPlayer.addEventListener('fullscreen', this.manageScreen);\n        this.$refs.mainPlayer.addEventListener('exitfullscreen', this.manageScreen);\n      }\n      this.$refs.mainPlayer.addEventListener('buffered', this.playerBuffered);\n      this.$refs.mainPlayer.addEventListener('userpause', this.playerPaused);\n      window.addEventListener('beforeunload', this.beforeWindowUnload);\n      if (navigator.userAgent.match(/iPhone/i)) {\n        window.addEventListener('pagehide', this.beforeWindowUnload);\n      }\n    },\n    deactivateListeners() {\n      this.$refs.mainPlayer.removeEventListener('start', this.playerStarted);\n      if ((this.subtitle && this.subLang) || this.local) {\n        this.$refs.mainPlayer.removeEventListener('fullscreen', this.manageScreen);\n        this.$refs.mainPlayer.removeEventListener('exitfullscreen', this.manageScreen);\n      }\n      this.$refs.mainPlayer.removeEventListener('buffered', this.playerBuffered);\n      this.$refs.mainPlayer.removeEventListener('userpause', this.playerPaused);\n      window.removeEventListener('beforeunload', this.beforeWindowUnload);\n      if (navigator.userAgent.match(/iPhone/i)) {\n        window.removeEventListener('pagehide', this.beforeWindowUnload);\n      }\n    },\n    encodeUrl(filename, fileType = 'stream') {\n      const date = new Date();\n      date.setHours(date.getHours() + 3);\n      const Y = date.getFullYear();\n      const m = date.getMonth() + 1 < 10 ? `0${date.getMonth() + 1}` : date.getMonth() + 1;\n      const d = date.getDate() < 10 ? `0${date.getDate()}` : date.getDate();\n      const H = date.getHours() < 10 ? `0${date.getHours()}` : date.getHours();\n      const D = `${Y}-${m}-${d} ${H}`;\n      if (fileType === 'subs') {\n        return `${btoa(`${filename}&${JSON.parse(localStorage.getItem('user')).uid}&${D}`)}/${filename}.vtt`;\n      }\n      return btoa(`${filename}&${JSON.parse(localStorage.getItem('user')).uid}&${D}`);\n    },\n    playerStarted() {\n      this.video = document.querySelector('video');\n      this.downloadSubtitles();\n      this.Player.api('subtitles', -1);\n      if (this.continue && this.continue > 0) {\n        this.Player.api('seek', this.continue);\n      }\n    },\n    downloadSubtitles() {\n      let subs = '';\n      if (this.local) {\n        let blob = null;\n        this.backend\n          .getFiles(`/s/${this.encodeUrl(this.filename, 'subs')}`)\n          .then((resp) => {\n            if (resp) {\n              blob = new Blob([resp], { type: 'text/vtt' });\n              subs = `<track default label=\"${this.playerLangs[this.subLang]}\" src=\"${URL.createObjectURL(blob)}\" kind=\"subtitles\" srclang=\"${this.subLang}\" mode=\"hidden\" />`;\n            }\n          })\n          .catch(err => console.error(err))\n          .finally(() => {\n            this.video.insertAdjacentHTML('beforeend', subs);\n          });\n      } else if (this.subtitle) {\n        this.backend\n          .getResp(this.subtitle)\n          .then((resp) => {\n            if (resp) {\n              const blob = new Blob([resp], { type: 'text/vtt' });\n              subs = `<track default label=\"${this.subLang}\" src=\"${URL.createObjectURL(blob)}\" kind=\"subtitles\" srclang=\"${this.subLang}\" mode=\"hidden\" />`;\n            }\n            return { subtitles: subs };\n          })\n          .catch(err => console.error(err))\n          .finally(() => {\n            this.video.insertAdjacentHTML('beforeend', subs);\n          });\n      }\n    },\n    manageScreen() {\n      if (event.type === 'exitfullscreen') {\n        this.video.textTracks[0].mode = 'showing';\n        this.Player.api('subtitle', -1);\n      } else {\n        this.video.textTracks[0].mode = 'hidden';\n        this.Player.api('subtitle', 0);\n      }\n      this.playerInfo.time = parseInt(this.Player.api('time'), 10);\n    },\n    playerBuffered() {\n      this.playerInfo.duration = parseInt(this.Player.api('duration'), 10);\n      this.playerInfo.time = parseInt(this.Player.api('time'), 10);\n    },\n    playerPaused() {\n      this.playerInfo.time = parseInt(this.Player.api('time'), 10);\n    },\n    sendPlayerData() {\n      this.$emit('unload', this.playerInfo);\n    },\n    beforeWindowUnload() {\n      this.sendPlayerData();\n    },\n    initPlayer() {\n      const filePath = this.local ? `/f/${this.encodeUrl(`${this.filename}.mp4`)}` : this.videoSource;\n      const subPath = this.local ? `/s/${this.encodeUrl(this.filename, 'subs')}`\n        : `[${this.playerLangs[this.subLang]}]${this.subtitle}`;\n      // eslint-disable-next-line\n      this.Player = new Playerjs({\n        id: 'player',\n        file: filePath,\n        title: this.title,\n        poster: this.preview,\n        subtitle: subPath,\n      });\n      this.showPlayer = true;\n      if (this.Player) {\n        this.applyListeners();\n      }\n    },\n  },\n  created() {\n    this.showPlayer = true;\n  },\n  beforeDestroy() {\n    this.deactivateListeners();\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.player{\n  width: 100%;\n  &.movie_player{\n    aspect-ratio: 16 / 10 !important;\n  }\n  &.tv_player {\n    aspect-ratio: 16 / 9;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Player.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"mainPlayer\",staticClass:\"player\",attrs:{\"id\":\"player\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9e09b60c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Player.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9e09b60c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Player.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Player.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Player.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9e09b60c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Player.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9e09b60c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Player.vue\n// module id = null\n// module chunks = ","<template>\n  <article class=\"media page_wrapper\" v-if=\"media\">\n    <div class=\"page_bg\">\n      <img :src=\"`/i/${media.backdrop}`\" class=\"\" v-if=\"media.backdrop\">\n    </div>\n    <div class=\"media_logo\">\n      <img :src=\"`/i/${media.logo}`\" class=\"base_image\" v-if=\"media.logo\">\n    </div>\n    <div class=\"media_info\">\n      <div class=\"poster\">\n        <img :src=\"`/i/${media.poster}`\" class=\"base_image\">\n        <div class=\"seen_wrapper\" v-if=\"media.seen\"></div>\n      </div>\n      <div class=\"description\">\n        <div class=\"description_info\">\n          <div class=\"description_title\">\n            {{ media.name }} ({{ media.year }}<span\n              v-if=\"media.media_type === 'tv' && media.last_year\"> - {{ media.last_year }})\n            </span>\n            <span v-else-if=\"media.media_type === 'tv' && !media.last_year\"> - ...)</span>\n            <span v-else>)</span>\n          </div>\n          <div class=\"rate\">\n            <div class=\"rate_object\">\n              <a :href=\"`//themoviedb.org/${media.media_type}/${media.tmdb_id}`\"\n                class=\"base_link\"\n                target=\"_blank\">\n                <div class=\"rate_name tmdb\">TMDb</div>\n                <div class=\"rate_value\" :style=\"paintRate(media.tmdb_rate)\">\n                  {{ media.tmdb_rate }}\n                </div>\n              </a>\n            </div>\n            <div class=\"rate_object\">\n              <a :href=\"`//kinopoisk.ru/film/${media.kp_id}`\"\n                class=\"base_link\" target=\"_blank\">\n                <div class=\"rate_name kp\">КП</div>\n                <div class=\"rate_value\" :style=\"paintRate(media.kp_rate)\">\n                  {{ media.kp_rate }}\n                </div>\n              </a>\n            </div>\n            <div class=\"rate_object\">\n              <a :href=\"`//imdb.com/title/${media.imdb_id}`\"\n                class=\"base_link\" target=\"_blank\">\n                <div class=\"rate_name imdb\">iMDB</div>\n                <div class=\"rate_value\" :style=\"paintRate(media.imdb_rate)\">\n                  {{ media.imdb_rate }}\n                </div>\n              </a>\n            </div>\n        </div>\n        </div>\n        <div class=\"origin_info\">\n          {{ media.original_name }}\n          <div class=\"age\">{{ media.age }}+</div>\n        </div>\n        <div class=\"seasons_info\" v-if=\"media.media_type === 'tv'\">\n          {{ makePluralSeasons(media.seasons) }} ({{ makePluralEpisodes(media.episodes) }})\n        </div>\n        <div class=\"slogan\" v-if=\"media.slogan\">\n          «{{ media.slogan }}»\n        </div>\n        <div class=\"overview\">\n          {{ media.overview }}\n        </div>\n      </div>\n    </div>\n    <div class=\"seasons\">\n      <div class=\"seasons_body\" v-if=\"media.media_type === 'tv'\">\n        Сезон\n        <div class=\"seasons_counter\">\n          <div class=\"seasons_item\" v-for=\"season in media.season_items\"\n            :key=\"season\"\n            :class=\"season === activeSeason ? 'active' : ''\">\n            <div class=\"item_wrapper\" @click=\"changeSeason(season)\">{{ season }}</div>\n          </div>\n        </div>\n      </div>\n      <div class=\"movie_info\" v-else>{{ media.name }} смотреть онлайн</div>\n      <div class=\"actions\">\n        <div class=\"actions_light_button\" title=\"Изменить информацию\">\n          <div class=\"edit_info\">\n            <a :href=\"`edit/movie/${media.uid}`\" class=\"base_link\">\n              <i class=\"ms-icon edit-info wh-20\"></i>\n            </a>\n          </div>\n        </div>\n        <div class=\"actions_light_button\" v-if=\"!media.seen\" title=\"Отметить как просмотренный\">\n          <div class=\"mark_seen\" @click=\"markAsSeen\" ref=\"seenButton\">\n            <i class=\"ms-icon seen wh-20\"></i>\n          </div>\n        </div>\n        <div class=\"actions_light_button\" v-if=\"media.media_type === 'tv'\">\n          <div class=\"episode_form\" v-show=\"episodeForm\">\n            <form @submit.prevent=\"addNewEpisode\">\n              <selecter :options=\"media.seasons\"\n                placeholder=\"Сезон\" v-model=\"episodeInfo.season\"\n                @input=\"changeSeasonMeta\" ref=\"selection\"/>\n              <input type=\"number\" placeholder=\"Эпизод\"\n                required min=\"1\" max=\"18\" class=\"input_wide\"\n                v-model=\"episodeInfo.episode\" ref=\"episodeInput\">\n              <button type=\"submit\" class=\"btn btn_submit\" ref=\"episodeButton\">Добавить</button>\n            </form>\n          </div>\n          <div class=\"add_episode\" @click=\"showEpisodeForm\">\n            <i class=\"ms-icon plus wh-20\"></i>\n          </div>\n        </div>\n        <div class=\"actions_light_button\" v-if=\"media.media_type !== 'tv' && media.meta\">\n          <div class=\"download_button\" @click=\"downloadEl(media.uid)\" v-if=\"!media.meta.downloaded\">\n            <i class=\"ms-icon download wh-20\"></i>\n          </div>\n          <div class=\"delete_button\" v-else @click=\"deleteEl(media.uid)\">\n            <i class=\"ms-icon delete wh-20\"></i>\n          </div>\n        </div>\n        <div class=\"actions_light_button\" v-if=\"media.trailer\"\n          title=\"Смотреть трейлер\">\n          <div class=\"watch_trailer\">\n            <a :href=\"media.trailer\" class=\"base_link\" target=\"_blank\">\n              <i class=\"ms-icon video wh-20\"></i>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"episodes\" @wheel.prevent=\"transformScroll\" v-if=\"media.extra\">\n      <div class=\"episodes_wrapper\" ref=\"eWrap\">\n        <div class=\"episodes_items\" v-for=\"episode in media.extra\" :key=\"episode.uid\"\n          v-if=\"episode.season === activeSeason\">\n          <div class=\"episode_card\" tabindex=\"1\">\n            <img :src=\"`/i/${episode.preview}`\" class=\"preview_image base_image\">\n            <div class=\"episode_actions\">\n              <div class=\"actions_row first_line\">\n                <div class=\"edit_button small_button\">\n                  <a :href=\"`/edit/${episode.uid}`\" class=\"base_link\">\n                    <i class=\"ms-icon edit-pencil wh-20\"></i>\n                  </a>\n                </div>\n                <div class=\"download_button small_button\"\n                  @click=\"downloadEl(episode.uid)\" v-if=\"episode.meta && !episode.meta.downloaded\">\n                  <i class=\"ms-icon download wh-20\"></i>\n                </div>\n                <div class=\"delete_button small_button\"\n                  v-if=\"episode.meta && episode.meta.downloaded\"\n                  @click=\"deleteEl(episode.uid)\">\n                  <i class=\"ms-icon delete wh-20\"></i>\n                </div>\n                <div class=\"add_queue small_button\"\n                  @click=\"updateQueue(episode)\" v-if=\"episode.meta && !episode.meta.downloaded\">\n                  <i class=\"ms-icon check_list wh-20\"></i>\n                </div>\n              </div>\n              <div class=\"actions_row main_line\">\n                <div class=\"watch_episode small_button\">\n                  <a :href=\"`/watch/${episode.uid}?c=${episode.continue}`\" class=\"base_link\"\n                    v-if=\"!episode.seen && episode.continue > 0\">\n                    <i class=\"ms-icon play wh-20\"></i>\n                  </a>\n                  <a :href=\"`/watch/${episode.uid}`\"\n                    class=\"base_link\" v-else>\n                    <i class=\"ms-icon play wh-20\"></i>\n                  </a>\n                </div>\n              </div>\n              <div class=\"actions_row blank_line\">\n                <div class=\"episode_runtime\">{{ episode.runtime }} мин</div>\n                <div class=\"progress_bar\" v-if=\"episode.continue && !episode.seen\">\n                  <div class=\"progress_bar-bar\"\n                    :style=\"!episode.seen\n                      ? progressBar(episode.continue, episode.runtime)\n                      : ''\">\n                    </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"episode_name\" :class=\"episode.seen ? 'complete' : ''\"\n            :title=\"episode.name\">\n            <span class=\"episode_name-long\">{{ episode.episode }}. {{ episode.name }}</span>\n          </div>\n          <div class=\"episode_overview\" :title=\"episode.overview\">{{ episode.overview }}</div>\n        </div>\n      </div>\n    </div>\n    <div class=\"movies\" v-else>\n      <div class=\"movies_player\" v-if=\"media.meta\">\n        <div class=\"loading\" v-if=\"loading\">\n          <svg width=\"32px\" height=\"24px\">\n            <polyline id=\"back\" points=\"1 6 4 6 6 11 10 1 12 6 15 6\"></polyline>\n            <polyline id=\"front\" points=\"1 6 4 6 6 11 10 1 12 6 15 6\"></polyline>\n          </svg>\n        </div>\n        <msplayer :videoSource=\"media.meta.video_source\"\n          :preview=\"`/i/${media.backdrop}`\" :title=\"media.name\"\n          :subtitle=\"media.meta.sub\" :subLang=\"extra.langs[media.meta.sub_lang]\"\n          :continue=\"media.continue\" :local=\"media.meta.downloaded\"\n          :filename=\"media.meta.filename\" ref=\"MSPlayer\" @unload=\"sendPlayerData\" />\n      </div>\n    </div>\n  </article>\n</template>\n<script>\nimport selecter from '@/components/Selecter';\nimport msplayer from '@/components/Player';\nimport Exchange from '../services/exchange.service';\n\nexport default {\n  name: 'MediaElement',\n  components: { selecter, msplayer },\n  data() {\n    return {\n      backend: new Exchange(),\n      uid: null,\n      message: null,\n      media: null,\n      extra: null,\n      currentSeason: null,\n      episodeForm: false,\n      activeSeason: null,\n      loading: true,\n      showPlayer: false,\n      player: null,\n      video: null,\n      playerInfo: {\n        duration: null,\n        time: null,\n      },\n      params: {\n        continue: null,\n      },\n      episodeInfo: {\n        mediaType: 'tv',\n        season: null,\n        episode: null,\n      },\n    };\n  },\n  methods: {\n    retreiveMediaInfo() {\n      this.backend\n        .get(`/api/media/${this.uid}`)\n        .then((resp) => {\n          if (resp) {\n            this.media = resp.body;\n            this.extra = resp.extra;\n          } else {\n            console.log(this.backend.msg);\n          }\n        })\n        .catch(err => console.error(err))\n        .finally(() => {\n          console.log(this.media);\n          this.loading = false;\n          this.showPlayer = true;\n          if (!this.activeSeason && this.media.media_type === 'tv') {\n            this.activeSeason = this.detectSeason();\n          }\n          document.title = `${this.media.name} » MediaServer`;\n          if (this.media.media_type === 'movie' && this.media.meta) {\n            this.$refs.MSPlayer.initPlayer();\n          }\n        });\n    },\n    paintRate(value) {\n      let style = 'color: #777777';\n      if (value && value !== '-') {\n        const percent = parseInt(value * 10, 10);\n        if (percent < 49) {\n          style = 'color: #ff0000';\n        } else if (percent > 70) {\n          style = 'color: #3bb33b';\n        }\n      }\n      return style;\n    },\n    makePluralSeasons(count) {\n      const array = ['сезон', 'сезона', 'сезонов'];\n      const ending = array[(count % 100 > 4 && count % 100 < 20)\n        ? 2 : [2, 0, 1, 1, 1, 2][(count % 10 < 5) ? count % 10 : 5]];\n      return `${count} ${ending}`;\n    },\n    makePluralEpisodes(count) {\n      const array = ['эпизод', 'эпизода', 'эпизодов'];\n      const ending = array[(count % 100 > 4 && count % 100 < 20)\n        ? 2 : [2, 0, 1, 1, 1, 2][(count % 10 < 5) ? count % 10 : 5]];\n      return `${count} ${ending}`;\n    },\n    showEpisodeForm() {\n      this.episodeForm = !this.episodeForm;\n    },\n    markAsSeen() {\n      const prevButton = this.$refs.seenButton.innerHTML;\n      this.backend\n        .post(`/api/mark-seen/${this.uid}`)\n        .then((resp) => {\n          if (resp) {\n            this.$refs.seenButton.innerHTML = '<i class=\"ms-icon check wh-20\"></i>';\n          }\n        })\n        .catch(err => console.error(err))\n        .finally(() => {\n          setTimeout(() => {\n            this.$refs.seenButton.innerHTML = prevButton;\n          }, 2000);\n        });\n    },\n    transformScroll() {\n      if (!event.deltaY) {\n        return;\n      }\n      let scrollSize = 0;\n      if (event.deltaX !== 0) {\n        scrollSize = event.deltaX;\n      } else if (event.deltaY !== 0) {\n        scrollSize = event.deltaY;\n      }\n      this.$refs.eWrap.scrollLeft += scrollSize;\n    },\n    changeSeasonMeta() {\n      if (this.episodeInfo.season) {\n        const seasonsMeta = this.media.seasons_meta.split(',');\n        this.$refs.episodeInput.max = seasonsMeta[this.episodeInfo.season - 1];\n      }\n    },\n    addNewEpisode() {\n      this.episodeInfo.mediaUid = this.media.uid;\n      this.episodeInfo.tmdb_id = this.media.tmdb_id;\n      this.episodeInfo.kp_id = this.media.kp_id;\n      this.episodeInfo.imdb_id = this.media.imdb_id;\n      const prevText = this.$refs.episodeButton.textContent;\n      this.$refs.episodeButton.textContent = '';\n      this.backend\n        .post('/api/episode/', this.episodeInfo)\n        .then((resp) => {\n          if (resp) {\n            this.message = resp.message;\n          }\n        })\n        .catch(err => console.error(err))\n        .finally(() => {\n          this.$refs.episodeButton.textContent = prevText;\n          this.episodeForm = false;\n          this.activeSeason = this.episodeInfo.season;\n          this.episodeInfo.season = null;\n          this.$refs.selection.clearSelection();\n          this.episodeInfo.episode = null;\n          this.retreiveMediaInfo();\n          this.scrollToLastElement();\n        });\n    },\n    downloadEl(uId) {\n      let aDownloads = JSON.parse(localStorage.getItem('aDownloads'));\n      const downloadInfo = {\n        media_type: this.media.media_type,\n        uid: uId,\n      };\n      this.backend\n        .post('/api/download/', downloadInfo)\n        .then((resp) => {\n          if (resp) {\n            downloadInfo.download_id = resp.body.uid;\n            if (aDownloads) {\n              aDownloads.push(downloadInfo);\n            } else {\n              aDownloads = [downloadInfo];\n            }\n          }\n        })\n        .catch(err => console.error(err))\n        .finally(() => {\n          localStorage.setItem('aDownloads', JSON.stringify(aDownloads));\n        });\n    },\n    updateQueue(ep) {\n      let queue = JSON.parse(localStorage.getItem('queue'));\n      const queueEpisode = {\n        name: this.media.name,\n        title: ep.name,\n        season: ep.season,\n        episode: ep.episode,\n        preview: ep.preview,\n        filename: ep.meta.filename,\n        uid: ep.uid,\n      };\n      queue = !queue ? [] : queue;\n      queue.push({ type: 'episode', episode: queueEpisode });\n      localStorage.setItem('queue', JSON.stringify(queue));\n      window.dispatchEvent(new CustomEvent('queueUpdate', {\n        detail: { storage: localStorage.getItem('queue') },\n      }));\n    },\n    scrollToLastElement() {\n      this.$refs.eWrap.scroll({ left: this.$refs.eWrap.scrollWidth, behavior: 'smooth' });\n    },\n    progressBar(time, runtime) {\n      // eslint-disable-next-line\n      return time ? `width: ${((time/(runtime * 60))*100)}%` : '';\n    },\n    detectSeason() {\n      let currentSeason = null;\n      if (this.currentSeason) {\n        currentSeason = parseInt(this.currentSeason, 10);\n      }\n      if (!this.currentSeason && this.media.extra.length >= 1) {\n        let minimalSeason = 1;\n        minimalSeason = this.media.seasons_meta.length >= 1\n          ? this.detectUnwatchedSeason()\n          : Math.min(...this.media.season_items);\n        currentSeason = minimalSeason;\n      }\n      return currentSeason;\n    },\n    detectUnwatchedSeason() {\n      const unwatchedSeason = [];\n      this.media.extra.filter((obj) => {\n        if (!obj.seen) {\n          unwatchedSeason.push(obj.season);\n        }\n        return obj.season;\n      });\n      return [...new Set(unwatchedSeason)][0];\n    },\n    changeSeason(season) {\n      this.activeSeason = season;\n      this.$router.replace({ query: { s: season } });\n    },\n    sendPlayerData(playerData) {\n      const data = {\n        player: playerData,\n        mediaType: this.media.media_type,\n        uid: this.uid,\n      };\n      this.backend.beacon(data);\n    },\n  },\n  created() {\n    this.currentSeason = this.$route.query.s;\n    this.uid = this.$route.params.uid;\n    this.params.continue = this.$route.query.c;\n    this.retreiveMediaInfo();\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@import \"@/assets/variables.scss\";\n\n.media {\n  position: relative;\n  .page_bg{\n    width: 100%;\n    position: absolute;\n    z-index: -1;\n    &:after{\n      position: absolute;\n      content: '';\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n      background: radial-gradient(50% 50% at 50% 50%, rgba(29, 29, 29, 0.58) 0%, #1D1D1D 100%);\n    }\n    img{\n      max-width: 100%;\n      object-fit: cover;\n    }\n  }\n  &_logo{\n    display: flex;\n    width: 100%;\n    justify-content: center;\n    margin-bottom: 20px;\n    height: 120px;\n    img{\n      height: 120px;\n    }\n  }\n  &_info{\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    color: $white;\n    font-family: $text-font;\n    height: 300px;\n    .poster{\n      position: relative;\n      height: 300px;\n      aspect-ratio: 2 / 3;\n      border-radius: 5px;\n      .seen_wrapper{\n        position: absolute;\n        height: calc(100% - 3px);\n        width: 100%;\n        top: 0;\n        border-radius: 8px;\n        background: rgba(0, 0, 0, .4);\n        font-size: 24px;\n        color: $white;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        &:after{\n          position: absolute;\n          content: '\\f06e';\n          font-family: 'FontAwesome';\n          font-size: 28px;\n          opacity: .4;\n        }\n      }\n    }\n    .description{\n      &_info{\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-bottom: 10px;\n      }\n      display: flex;\n      padding: 0 15px;\n      flex-direction: column;\n      justify-content: center;\n      margin-left: 20px;\n      text-shadow: $text-shadow;\n      max-width: 80%;\n      &_title{\n        font-family: $title-font;\n        font-size: 22px;\n        font-weight: bold;\n        max-width: 500px;\n      }\n      .rate{\n        display: flex;\n        align-items: center;\n        &_object{\n          margin-right: 20px;\n          &:last-child{\n            margin-right: 0;\n          }\n        }\n        &_value{\n          font-family: $title-font;\n          font-weight: bold;\n          font-size: 24px;\n          text-align: center;\n        }\n        &_name{\n          text-align: center;\n        }\n      }\n      .origin_info{\n        display: flex;\n        align-items: center;\n        font-size: 20px;\n        margin-bottom: 10px;\n      }\n      .seasons_info{\n        font-size: 20px;\n        margin-bottom: 10px;\n      }\n      .slogan{\n        opacity: .8;\n        text-shadow: $text-shadow;\n        margin-bottom: 10px;\n      }\n      .age{\n        font-family: $title-font;\n        margin-left: 10px;\n        border-radius: 5px;\n        border: 1px solid $white;\n        padding: 5px 3px;\n        font-size: 14px;\n        line-height: 1;\n        text-shadow: $text-shadow;\n      }\n      .overview{\n        text-align: justify;\n      }\n    }\n  }\n  .seasons{\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    color: $white;\n    margin: 10px 0;\n    font-family: $text-font;\n    padding: 10px 20px;\n    &_body{\n      font-size: 18px;\n      display: flex;\n      align-items: center;\n    }\n    &_counter{\n      display: flex;\n      align-items: center;\n      margin-right: 10px;\n      &:first-child{\n        margin-left: 20px;\n      }\n      &:last-child{\n        margin-right: 0;\n      }\n    }\n    &_item{\n      cursor: pointer;\n      min-width: 30px;\n      height: 30px;\n      width: 100%;\n      border-radius: 50%;\n      text-align: center;\n      line-height: 30px;\n      &.active{\n        background: $dark;\n      }\n    }\n    .actions{\n      display: flex;\n      font-size: 20px;\n      color: $white;\n      &_light_button{\n        cursor: pointer;\n        position: relative;\n        margin-right: 25px;\n        &:last-child{\n          margin-right: 0;\n        }\n        .episode_form{\n          background: $grey;\n          position: absolute;\n          bottom: calc(100% + 15px);\n          width: 180px;\n          right: -15px;\n          background: $grey;\n          border-radius: 10px;\n          padding: 20px 15px;\n          font-size: 14px;\n          &:after{\n            position: absolute;\n            content: '';\n            bottom: calc(0% - 7px);\n            right: 18px;\n            border-bottom: 7px solid $grey;\n            border-right: 7px solid $grey;\n            border-top: 7px solid transparent;\n            border-left: 7px solid transparent;\n            transform: rotate(45deg);\n          }\n        }\n      }\n    }\n  }\n  .episodes{\n    font-family: $text-font;\n    color: $white;\n    position: relative;\n    &_wrapper{\n      display: flex;\n      overflow: auto;\n      &::-webkit-scrollbar{\n        -webkit-appearance: none;\n      }\n    }\n    &_items{\n      max-width: 300px;\n      min-width: 300px;\n      overflow: hidden;\n      margin-right: 10px;\n      .episode{\n        position: relative;\n        &_overview{\n          display: -webkit-box;\n          text-overflow: ellipsis;\n          -webkit-line-clamp: 4;\n          -webkit-box-orient: vertical;\n          overflow-y: hidden;\n          cursor: default;\n        }\n        &_name{\n          margin-left: 10px;\n          padding: 5px 0;\n          font-weight: bold;\n          cursor: default;\n          &-long{\n            display: block;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            max-width: 300px;\n            overflow: hidden;\n          }\n          &.complete{\n            position: relative;\n            margin-left: 20px;\n            &:before{\n              position: absolute;\n              font-family: 'FontAwesome';\n              content: '\\f00c';\n              color: $white;\n              left: -20px\n            }\n          }\n        }\n        &_card{\n          position: relative;\n          margin: 0;\n          box-sizing: border-box;\n          border-radius: 10px;\n          &:hover .episode_actions{\n            display: flex;\n          }\n        }\n        &_actions{\n          position: absolute;\n          box-sizing: border-box;\n          width: 100%;\n          height: calc(100% - 3px);\n          left: 0;\n          top: 0;\n          border-radius: 10px;\n          padding: 5px 10px;\n          margin: 0;\n          background: rgba(0, 0, 0, .3);\n          display: none;\n          flex-direction: column;\n          justify-content: space-between;\n          align-items: center;\n          overflow: hidden;\n          .actions_row{\n            display: flex;\n            &.first_line{\n              width: 100%;\n              height: 30px;\n              font-size: 14px;\n              .small_button{\n                background: $white;\n                color: $blue;\n                height: 25px;\n                width: 25px;\n                margin-right: 5px;\n                &:first-child{\n                  margin-right: auto;\n                }\n                &:last-child{\n                  margin-right: 0;\n                }\n              }\n            }\n            &.main_line{\n              font-size: 20px;\n              .small_button{\n                display: flex;\n                height: 35px;\n                width: 35px;\n                background: $blue;\n                border-radius: 50%;\n                padding: 3px 0 0 3px;\n              }\n            }\n            &.blank_line{\n              width: 100%;\n              display: flex;\n              justify-content: flex-end;\n              flex-direction: column;\n              align-items: flex-end;\n              margin-bottom: 5px;\n              .episode_runtime{\n                padding: 3px 5px;\n                background: rgba(0, 0, 0, .5);\n                border-radius: 5px;\n              }\n              .progress_bar{\n                position: absolute;\n                left: 0;\n                right: 0;\n                bottom: 0;\n                border-radius: 0 0 10px 10px;\n                width: 100%;\n                height: 5px;\n                background: rgba(0, 0, 0, .5);\n                &-bar{\n                  background: $blue;\n                  height: 5px;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    // add next episode\n  }\n  .movies{\n    margin-bottom: 20px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/MediaElement.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.media)?_c('article',{staticClass:\"media page_wrapper\"},[_c('div',{staticClass:\"page_bg\"},[(_vm.media.backdrop)?_c('img',{attrs:{\"src\":(\"/i/\" + (_vm.media.backdrop))}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"media_logo\"},[(_vm.media.logo)?_c('img',{staticClass:\"base_image\",attrs:{\"src\":(\"/i/\" + (_vm.media.logo))}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"media_info\"},[_c('div',{staticClass:\"poster\"},[_c('img',{staticClass:\"base_image\",attrs:{\"src\":(\"/i/\" + (_vm.media.poster))}}),_vm._v(\" \"),(_vm.media.seen)?_c('div',{staticClass:\"seen_wrapper\"}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"description\"},[_c('div',{staticClass:\"description_info\"},[_c('div',{staticClass:\"description_title\"},[_vm._v(\"\\n          \"+_vm._s(_vm.media.name)+\" (\"+_vm._s(_vm.media.year)),(_vm.media.media_type === 'tv' && _vm.media.last_year)?_c('span',[_vm._v(\" - \"+_vm._s(_vm.media.last_year)+\")\\n          \")]):(_vm.media.media_type === 'tv' && !_vm.media.last_year)?_c('span',[_vm._v(\" - ...)\")]):_c('span',[_vm._v(\")\")])]),_vm._v(\" \"),_c('div',{staticClass:\"rate\"},[_c('div',{staticClass:\"rate_object\"},[_c('a',{staticClass:\"base_link\",attrs:{\"href\":(\"//themoviedb.org/\" + (_vm.media.media_type) + \"/\" + (_vm.media.tmdb_id)),\"target\":\"_blank\"}},[_c('div',{staticClass:\"rate_name tmdb\"},[_vm._v(\"TMDb\")]),_vm._v(\" \"),_c('div',{staticClass:\"rate_value\",style:(_vm.paintRate(_vm.media.tmdb_rate))},[_vm._v(\"\\n                \"+_vm._s(_vm.media.tmdb_rate)+\"\\n              \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"rate_object\"},[_c('a',{staticClass:\"base_link\",attrs:{\"href\":(\"//kinopoisk.ru/film/\" + (_vm.media.kp_id)),\"target\":\"_blank\"}},[_c('div',{staticClass:\"rate_name kp\"},[_vm._v(\"КП\")]),_vm._v(\" \"),_c('div',{staticClass:\"rate_value\",style:(_vm.paintRate(_vm.media.kp_rate))},[_vm._v(\"\\n                \"+_vm._s(_vm.media.kp_rate)+\"\\n              \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"rate_object\"},[_c('a',{staticClass:\"base_link\",attrs:{\"href\":(\"//imdb.com/title/\" + (_vm.media.imdb_id)),\"target\":\"_blank\"}},[_c('div',{staticClass:\"rate_name imdb\"},[_vm._v(\"iMDB\")]),_vm._v(\" \"),_c('div',{staticClass:\"rate_value\",style:(_vm.paintRate(_vm.media.imdb_rate))},[_vm._v(\"\\n                \"+_vm._s(_vm.media.imdb_rate)+\"\\n              \")])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"origin_info\"},[_vm._v(\"\\n        \"+_vm._s(_vm.media.original_name)+\"\\n        \"),_c('div',{staticClass:\"age\"},[_vm._v(_vm._s(_vm.media.age)+\"+\")])]),_vm._v(\" \"),(_vm.media.media_type === 'tv')?_c('div',{staticClass:\"seasons_info\"},[_vm._v(\"\\n        \"+_vm._s(_vm.makePluralSeasons(_vm.media.seasons))+\" (\"+_vm._s(_vm.makePluralEpisodes(_vm.media.episodes))+\")\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.media.slogan)?_c('div',{staticClass:\"slogan\"},[_vm._v(\"\\n        «\"+_vm._s(_vm.media.slogan)+\"»\\n      \")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"overview\"},[_vm._v(\"\\n        \"+_vm._s(_vm.media.overview)+\"\\n      \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"seasons\"},[(_vm.media.media_type === 'tv')?_c('div',{staticClass:\"seasons_body\"},[_vm._v(\"\\n      Сезон\\n      \"),_c('div',{staticClass:\"seasons_counter\"},_vm._l((_vm.media.season_items),function(season){return _c('div',{key:season,staticClass:\"seasons_item\",class:season === _vm.activeSeason ? 'active' : ''},[_c('div',{staticClass:\"item_wrapper\",on:{\"click\":function($event){return _vm.changeSeason(season)}}},[_vm._v(_vm._s(season))])])}),0)]):_c('div',{staticClass:\"movie_info\"},[_vm._v(_vm._s(_vm.media.name)+\" смотреть онлайн\")]),_vm._v(\" \"),_c('div',{staticClass:\"actions\"},[_c('div',{staticClass:\"actions_light_button\",attrs:{\"title\":\"Изменить информацию\"}},[_c('div',{staticClass:\"edit_info\"},[_c('a',{staticClass:\"base_link\",attrs:{\"href\":(\"edit/movie/\" + (_vm.media.uid))}},[_c('i',{staticClass:\"ms-icon edit-info wh-20\"})])])]),_vm._v(\" \"),(!_vm.media.seen)?_c('div',{staticClass:\"actions_light_button\",attrs:{\"title\":\"Отметить как просмотренный\"}},[_c('div',{ref:\"seenButton\",staticClass:\"mark_seen\",on:{\"click\":_vm.markAsSeen}},[_c('i',{staticClass:\"ms-icon seen wh-20\"})])]):_vm._e(),_vm._v(\" \"),(_vm.media.media_type === 'tv')?_c('div',{staticClass:\"actions_light_button\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.episodeForm),expression:\"episodeForm\"}],staticClass:\"episode_form\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.addNewEpisode.apply(null, arguments)}}},[_c('selecter',{ref:\"selection\",attrs:{\"options\":_vm.media.seasons,\"placeholder\":\"Сезон\"},on:{\"input\":_vm.changeSeasonMeta},model:{value:(_vm.episodeInfo.season),callback:function ($$v) {_vm.$set(_vm.episodeInfo, \"season\", $$v)},expression:\"episodeInfo.season\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.episodeInfo.episode),expression:\"episodeInfo.episode\"}],ref:\"episodeInput\",staticClass:\"input_wide\",attrs:{\"type\":\"number\",\"placeholder\":\"Эпизод\",\"required\":\"\",\"min\":\"1\",\"max\":\"18\"},domProps:{\"value\":(_vm.episodeInfo.episode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.episodeInfo, \"episode\", $event.target.value)}}}),_vm._v(\" \"),_c('button',{ref:\"episodeButton\",staticClass:\"btn btn_submit\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Добавить\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"add_episode\",on:{\"click\":_vm.showEpisodeForm}},[_c('i',{staticClass:\"ms-icon plus wh-20\"})])]):_vm._e(),_vm._v(\" \"),(_vm.media.media_type !== 'tv' && _vm.media.meta)?_c('div',{staticClass:\"actions_light_button\"},[(!_vm.media.meta.downloaded)?_c('div',{staticClass:\"download_button\",on:{\"click\":function($event){return _vm.downloadEl(_vm.media.uid)}}},[_c('i',{staticClass:\"ms-icon download wh-20\"})]):_c('div',{staticClass:\"delete_button\",on:{\"click\":function($event){return _vm.deleteEl(_vm.media.uid)}}},[_c('i',{staticClass:\"ms-icon delete wh-20\"})])]):_vm._e(),_vm._v(\" \"),(_vm.media.trailer)?_c('div',{staticClass:\"actions_light_button\",attrs:{\"title\":\"Смотреть трейлер\"}},[_c('div',{staticClass:\"watch_trailer\"},[_c('a',{staticClass:\"base_link\",attrs:{\"href\":_vm.media.trailer,\"target\":\"_blank\"}},[_c('i',{staticClass:\"ms-icon video wh-20\"})])])]):_vm._e()])]),_vm._v(\" \"),(_vm.media.extra)?_c('div',{staticClass:\"episodes\",on:{\"wheel\":function($event){$event.preventDefault();return _vm.transformScroll.apply(null, arguments)}}},[_c('div',{ref:\"eWrap\",staticClass:\"episodes_wrapper\"},_vm._l((_vm.media.extra),function(episode){return (episode.season === _vm.activeSeason)?_c('div',{key:episode.uid,staticClass:\"episodes_items\"},[_c('div',{staticClass:\"episode_card\",attrs:{\"tabindex\":\"1\"}},[_c('img',{staticClass:\"preview_image base_image\",attrs:{\"src\":(\"/i/\" + (episode.preview))}}),_vm._v(\" \"),_c('div',{staticClass:\"episode_actions\"},[_c('div',{staticClass:\"actions_row first_line\"},[_c('div',{staticClass:\"edit_button small_button\"},[_c('a',{staticClass:\"base_link\",attrs:{\"href\":(\"/edit/\" + (episode.uid))}},[_c('i',{staticClass:\"ms-icon edit-pencil wh-20\"})])]),_vm._v(\" \"),(episode.meta && !episode.meta.downloaded)?_c('div',{staticClass:\"download_button small_button\",on:{\"click\":function($event){return _vm.downloadEl(episode.uid)}}},[_c('i',{staticClass:\"ms-icon download wh-20\"})]):_vm._e(),_vm._v(\" \"),(episode.meta && episode.meta.downloaded)?_c('div',{staticClass:\"delete_button small_button\",on:{\"click\":function($event){return _vm.deleteEl(episode.uid)}}},[_c('i',{staticClass:\"ms-icon delete wh-20\"})]):_vm._e(),_vm._v(\" \"),(episode.meta && !episode.meta.downloaded)?_c('div',{staticClass:\"add_queue small_button\",on:{\"click\":function($event){return _vm.updateQueue(episode)}}},[_c('i',{staticClass:\"ms-icon check_list wh-20\"})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"actions_row main_line\"},[_c('div',{staticClass:\"watch_episode small_button\"},[(!episode.seen && episode.continue > 0)?_c('a',{staticClass:\"base_link\",attrs:{\"href\":(\"/watch/\" + (episode.uid) + \"?c=\" + (episode.continue))}},[_c('i',{staticClass:\"ms-icon play wh-20\"})]):_c('a',{staticClass:\"base_link\",attrs:{\"href\":(\"/watch/\" + (episode.uid))}},[_c('i',{staticClass:\"ms-icon play wh-20\"})])])]),_vm._v(\" \"),_c('div',{staticClass:\"actions_row blank_line\"},[_c('div',{staticClass:\"episode_runtime\"},[_vm._v(_vm._s(episode.runtime)+\" мин\")]),_vm._v(\" \"),(episode.continue && !episode.seen)?_c('div',{staticClass:\"progress_bar\"},[_c('div',{staticClass:\"progress_bar-bar\",style:(!episode.seen\n                    ? _vm.progressBar(episode.continue, episode.runtime)\n                    : '')})]):_vm._e()])])]),_vm._v(\" \"),_c('div',{staticClass:\"episode_name\",class:episode.seen ? 'complete' : '',attrs:{\"title\":episode.name}},[_c('span',{staticClass:\"episode_name-long\"},[_vm._v(_vm._s(episode.episode)+\". \"+_vm._s(episode.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"episode_overview\",attrs:{\"title\":episode.overview}},[_vm._v(_vm._s(episode.overview))])]):_vm._e()}),0)]):_c('div',{staticClass:\"movies\"},[(_vm.media.meta)?_c('div',{staticClass:\"movies_player\"},[(_vm.loading)?_c('div',{staticClass:\"loading\"},[_c('svg',{attrs:{\"width\":\"32px\",\"height\":\"24px\"}},[_c('polyline',{attrs:{\"id\":\"back\",\"points\":\"1 6 4 6 6 11 10 1 12 6 15 6\"}}),_vm._v(\" \"),_c('polyline',{attrs:{\"id\":\"front\",\"points\":\"1 6 4 6 6 11 10 1 12 6 15 6\"}})])]):_vm._e(),_vm._v(\" \"),_c('msplayer',{ref:\"MSPlayer\",attrs:{\"videoSource\":_vm.media.meta.video_source,\"preview\":(\"/i/\" + (_vm.media.backdrop)),\"title\":_vm.media.name,\"subtitle\":_vm.media.meta.sub,\"subLang\":_vm.extra.langs[_vm.media.meta.sub_lang],\"continue\":_vm.media.continue,\"local\":_vm.media.meta.downloaded,\"filename\":_vm.media.meta.filename},on:{\"unload\":_vm.sendPlayerData}})],1):_vm._e()])]):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0cebb6aa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/MediaElement.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0cebb6aa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MediaElement.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MediaElement.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MediaElement.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0cebb6aa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MediaElement.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0cebb6aa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/MediaElement.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"file\" :style=\"cssStyles\">\n    <div class=\"file_upload\"\n      v-show=\"!uploaded\" :class=\"`${dragStyle} ${image}`\"\n      @drop.prevent=\"handleDrop\"\n      @dragleave.prevent=\"handleDragEnd\"\n      @dragover.prevent=\"handleDragStart\">\n      <label :for=\"`imageInput-${image}`\" class=\"file_upload-label\">\n        <span class=\"default_image\">\n          <i class=\"ms-icon image wh-30\"></i>\n        </span>\n        <span class=\"label_text\">Добавить картинку</span>\n        <span class=\"label_caption\"\n          v-if=\"image !== 'avatar'\">Выберите или перетащите картинку в это поле</span>\n      </label>\n      <input type=\"file\" class=\"image_input\"\n        :id=\"`imageInput-${image}`\" ref=\"fileInput\" :name=\"name\"\n        @change=\"makePreview\">\n    </div>\n    <div class=\"file_preview\" v-show=\"uploaded && preview\">\n      <div class=\"file_preview-actions\">\n        <div class=\"delete_selected\" title=\"Удалить файл\" @click=\"deleteSelected\">\n          <i class=\"ms-icon delete wh-20\"></i>\n        </div>\n      </div>\n      <img :src=\"imagePreview\" class=\"file_preview-image base_image\">\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'fileUpload',\n  props: {\n    preview: {\n      type: Boolean,\n      default: false,\n    },\n    image: {\n      type: String,\n      default: 'preview',\n    },\n    name: {\n      type: String,\n    },\n    draggable: {\n      type: Boolean,\n      default: true,\n    },\n    existing: {\n      type: String,\n    },\n    color: {\n      type: String,\n      default: '#e8f1f233',\n    },\n  },\n  data() {\n    return {\n      dragStyle: '',\n      imageUrl: '',\n      uploaded: false,\n      defaultColor: '#e8f1f233',\n      hoverBg: '59',\n      file: null,\n      imagePreview: null,\n    };\n  },\n  methods: {\n    handleDrop() {\n      const input = this.$refs.fileInput;\n      input.files = event.dataTransfer.files;\n      this.dragStyle = '';\n      if (this.preview) {\n        this.makePreview();\n      }\n    },\n    handleDragEnd() {\n      this.dragStyle = '';\n    },\n    handleDragStart() {\n      this.dragStyle = 'active';\n    },\n    makePreview() {\n      const input = this.$refs.fileInput;\n      if (input.files && input.files[0]) {\n        this.imagePreview = URL.createObjectURL(input.files[0]);\n        this.uploaded = true;\n        this.file = input.files[0];\n        this.$emit('input', this.file);\n      }\n    },\n    makeExisting(url) {\n      this.imagePreview = `${url}`;\n      this.uploaded = true;\n    },\n    deleteSelected() {\n      this.imagePreview = null;\n      this.file = null;\n      this.uploaded = false;\n    },\n    styleReplacer(str, add) {\n      const arr = str.split('');\n      const strLast = arr.length - 2;\n      if (arr.length === 7) {\n        arr.push('5', '9');\n      } else {\n        arr.splice(strLast, 2, add);\n      }\n      return arr.join('');\n    },\n  },\n  computed: {\n    cssStyles() {\n      return {\n        '--bg-color': this.color,\n        '--hover-bg': this.color ? this.styleReplacer(this.color, this.hoverBg)\n          : this.styleReplacer(this.defaultColor, this.hoverBg),\n      };\n    },\n  },\n  created() {\n    if (this.existing) {\n      this.makeExisting(this.existing);\n    }\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@import \"@/assets/variables.scss\";\n\n.file{\n  &_upload{\n    backdrop-filter: blur(5px);\n    border-radius: 10px;\n    transition: all .25s ease;\n    background: var(--bg-color);\n    &:hover {\n      background: var(--hover-bg);\n    }\n    &.active{\n      background: var(--hover-bg);\n    }\n    &.poster{\n      height: 300px;\n      aspect-ratio: 2 / 3;\n    }\n    &.preview{\n      width: 300px;\n      aspect-ratio: 16 / 9;\n    }\n    &.avatar{\n      width: 120px;\n      aspect-ratio: 1 / 1;\n    }\n    &-label{\n      width: 100%;\n      height: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-direction: column;\n      padding: 10px 15px;\n      box-sizing: border-box;\n      font-family: $text-font;\n      font-size: 14px;\n      color: $white;\n      opacity: 0.5;\n      cursor: pointer;\n      .default_image{\n        color: $white;\n        height: 40%;\n        font-size: 30px;\n        text-shadow: $text-shadow;\n        display: flex;\n        align-items: flex-end;\n        justify-content: center;\n        margin-bottom: 5px;\n      }\n      .label_text{\n        width: 85%;\n        text-align: center;\n        margin-bottom: 5px;\n      }\n      .label_caption{\n        width: 85%;\n      }\n    }\n    .image_input{\n      display: none;\n    }\n  }\n  &_preview{\n    position: relative;\n    &:hover .file_preview-actions .delete_selected{\n        opacity: 1;\n        visibility: visible;\n      }\n    &-actions{\n      .delete_selected{\n        opacity: 0;\n        visibility: hidden;\n        position: absolute;\n        top: 5px;\n        right: 10px;\n        background: $blue;\n        color: $white;\n        border-radius: 50%;\n        cursor: pointer;\n        padding: 5px;\n        transition: all .4s ease;\n      }\n    }\n    &-image{\n      border-radius: 10px;\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/FileUploader.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file\",style:(_vm.cssStyles)},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.uploaded),expression:\"!uploaded\"}],staticClass:\"file_upload\",class:(_vm.dragStyle + \" \" + _vm.image),on:{\"drop\":function($event){$event.preventDefault();return _vm.handleDrop.apply(null, arguments)},\"dragleave\":function($event){$event.preventDefault();return _vm.handleDragEnd.apply(null, arguments)},\"dragover\":function($event){$event.preventDefault();return _vm.handleDragStart.apply(null, arguments)}}},[_c('label',{staticClass:\"file_upload-label\",attrs:{\"for\":(\"imageInput-\" + _vm.image)}},[_vm._m(0),_vm._v(\" \"),_c('span',{staticClass:\"label_text\"},[_vm._v(\"Добавить картинку\")]),_vm._v(\" \"),(_vm.image !== 'avatar')?_c('span',{staticClass:\"label_caption\"},[_vm._v(\"Выберите или перетащите картинку в это поле\")]):_vm._e()]),_vm._v(\" \"),_c('input',{ref:\"fileInput\",staticClass:\"image_input\",attrs:{\"type\":\"file\",\"id\":(\"imageInput-\" + _vm.image),\"name\":_vm.name},on:{\"change\":_vm.makePreview}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.uploaded && _vm.preview),expression:\"uploaded && preview\"}],staticClass:\"file_preview\"},[_c('div',{staticClass:\"file_preview-actions\"},[_c('div',{staticClass:\"delete_selected\",attrs:{\"title\":\"Удалить файл\"},on:{\"click\":_vm.deleteSelected}},[_c('i',{staticClass:\"ms-icon delete wh-20\"})])]),_vm._v(\" \"),_c('img',{staticClass:\"file_preview-image base_image\",attrs:{\"src\":_vm.imagePreview}})])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"default_image\"},[_c('i',{staticClass:\"ms-icon image wh-30\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-32eda252\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/FileUploader.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-32eda252\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./FileUploader.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./FileUploader.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./FileUploader.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-32eda252\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./FileUploader.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-32eda252\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/FileUploader.vue\n// module id = null\n// module chunks = ","<template>\n  <article class=\"edit_meta page_wrapper\">\n    <div class=\"loading\" v-if=\"loading\">\n      <svg width=\"32px\" height=\"24px\">\n        <polyline id=\"back\" points=\"1 6 4 6 6 11 10 1 12 6 15 6\"></polyline>\n        <polyline id=\"front\" points=\"1 6 4 6 6 11 10 1 12 6 15 6\"></polyline>\n      </svg>\n    </div>\n    <div class=\"page_content\" v-else>\n      <div class=\"page_bg\">\n        <img :src=\"`/i/${media.backdrop}`\" class=\"base_image\">\n      </div>\n      <div class=\"edit_meta-logo\">\n        <img :src=\"`/i/${media.logo}`\" class=\"base_image\">\n      </div>\n      <div class=\"edit_meta-container\">\n        <div class=\"leftside\">\n          <div class=\"preview_image\">\n            <file image=\"preview\" preview name=\"preview\" draggable class=\"preview_image\"\n              :existing=\"`/i/${media.episode.preview}`\" v-model=\"episodePreview\"/>\n          </div>\n          <div class=\"episode_name\">\n            <span class=\"episode_title\">{{ media.episode.name }}</span><br>\n            {{ media.episode.season }} сезон {{ media.episode.episode }} серия\n          </div>\n        </div>\n        <div class=\"rightside\">\n          <div class=\"episode_meta\">\n            <form @submit.prevent=\"handleEditMeta\">\n              <input type=\"text\" required class=\"input_wide\" placeholder=\"Название\"\n                v-model=\"media.episode.name\">\n              <textarea class=\"input_wide textarea_wide\" v-model=\"media.episode.overview\">\n              </textarea>\n              <input type=\"text\" class=\"input_wide\" placeholder=\"Источник видео\"\n                v-model=\"episodeMeta.videoSource\">\n              <div class=\"voices\" v-if=\"voiceLoading || voices || episodeMeta.videoLang\">\n                <div class=\"voice_object input_wide\" v-if=\"voiceLoading\">\n                  Загрузка озвучек..\n                </div>\n                <selecter :options=\"voices\" v-show=\"voices\" multiple ref=\"voiceSelection\"\n                  placeholder=\"Выберите озвучку\" updatable v-model=\"episodeMeta.videoLang\" />\n              </div>\n              <div class=\"voices\" v-if=\"!voices && !voiceLoading\">\n                <selecter :options=\"defaultLangs\" multiple placeholder=\"Выберите язык\"\n                  v-model=\"episodeMeta.voiceLang\" ref=\"voiceSelection\"/>\n              </div>\n              <transition name=\"toggle\">\n                <div class=\"subtitles_wrapper\" v-show=\"episodeMeta.videoLang === '20'\">\n                  <input type=\"text\" class=\"input_wide\" placeholder=\"Источник субтитров\"\n                    v-model=\"episodeMeta.sub\">\n                  <selecter :options=\"langs\" multiple placeholder=\"Язык субтитров\"\n                    v-model=\"episodeMeta.subLang\" :defaultValue=\"episodeMeta.subLang\"\n                    updatable ref=\"subtitlesSelection\" />\n                </div>\n              </transition>\n              <button type=\"submit\" class=\"btn btn_submit\"\n                ref=\"editMetaButton\">Сохранить</button>\n            </form>\n            <div class=\"auto_meta\" v-if=\"voices\">\n              <button type=\"button\" class=\"btn btn_submit autometa\"\n                @click=\"parseMeta\" ref=\"autoMetaButton\">Поиск Источников</button>\n              <div class=\"auto_meta-caption\">Укажите озвучку и субтитры перед поиском</div>\n            </div>\n            <div class=\"delete_episode\">\n              <button type=\"button\" class=\"btn btn_submit red\">Удалить эпизод</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </article>\n</template>\n<script>\nimport selecter from '@/components/Selecter';\nimport fileUpload from '@/components/FileUploader';\nimport Exchange from '../services/exchange.service';\n\nexport default {\n  name: 'EditMeta',\n  components: { selecter, file: fileUpload },\n  data() {\n    return {\n      backend: new Exchange(),\n      uid: null,\n      loading: true,\n      voiceLoading: true,\n      voices: null,\n      media: null,\n      langs: null,\n      selectedVoice: null,\n      defaultLangs: null,\n      episodePreview: null,\n      episodeMeta: {\n        videoSource: null,\n        videoLang: null,\n        sub: null,\n        subLang: null,\n      },\n    };\n  },\n  methods: {\n    retrieveMedia() {\n      this.backend\n        .get(`/api/episode/${this.uid}`)\n        .then((resp) => {\n          if (resp) {\n            this.loading = false;\n            this.media = resp.body;\n            this.langs = resp.extra.langs;\n            this.defaultLangs = resp.extra.default_langs;\n          }\n        })\n        .catch(err => console.error(err))\n        .finally(() => {\n          this.retrieveVoices();\n          this.applyOld();\n        });\n    },\n    applyOld() {\n      if (this.media.episode.meta) {\n        this.episodeMeta.videoSource = this.media.episode.meta.video_source;\n        this.episodeMeta.videoLang = this.media.episode.meta.video_lang;\n        this.episodeMeta.sub = this.media.episode.meta.sub;\n        this.episodeMeta.subLang = this.media.episode.meta.sub_lang;\n      }\n    },\n    retrieveVoices() {\n      const userInfo = JSON.parse(localStorage.getItem('user'));\n      this.backend\n        .get(`/api/voices/${this.media.media_type}`, this.media.episode.short)\n        .then((resp) => {\n          if (resp) {\n            this.voices = resp.body.results;\n          }\n        })\n        .catch(err => console.error(err))\n        .finally(() => {\n          this.voiceLoading = false;\n          if (userInfo.chosen_voice) {\n            this.$refs.voiceSelection.autoSelect(userInfo.chosen_voice);\n          }\n        });\n    },\n    handleEditMeta() {\n      let saved = false;\n      const formData = new FormData();\n      Object.keys(this.episodeMeta).forEach(key => formData.append(key, this.episodeMeta[key]));\n      formData.append('preview', this.episodePreview);\n      this.episodeMeta.episodeUid = this.media.episode.uid;\n      const prevText = this.$refs.editMetaButton.textContent;\n      this.$refs.editMetaButton.textContent = '';\n      this.backend\n        .post(`/api/meta/edit/${this.media.media_type}/${this.media.episode.uid}`, formData)\n        .then((resp) => {\n          if (resp) {\n            saved = true;\n          }\n        })\n        .catch(err => console.error(err))\n        .finally(() => {\n          this.$refs.editMetaButton.textContent = prevText;\n          if (saved) {\n            setTimeout(() => {\n              location.href = `/${this.media.uid}?s=${this.media.episode.season}`;\n            }, 1500);\n          }\n        });\n    },\n    parseMeta() {\n      const imdbID = this.media.episode.short.imdb_id;\n      const prevText = this.$refs.autoMetaButton.textContent;\n      this.$refs.autoMetaButton.textContent = '';\n      const params = {\n        e: this.media.media_type === 'tv' ? this.media.episode.episode : null,\n        s: this.media.media_type === 'tv' ? this.media.episode.season : null,\n        voice: this.episodeMeta.videoLang,\n        sub: this.episodeMeta.subLang,\n      };\n      this.backend\n        .get(`/api/meta/${this.media.media_type}/${imdbID}`, params)\n        .then((resp) => {\n          if (resp) {\n            this.episodeMeta.videoSource = resp.results.video_src;\n            this.episodeMeta.sub = resp.results.sub_src ? resp.results.sub_src : '';\n          }\n        })\n        .catch(err => console.error(err))\n        .finally(() => {\n          this.$refs.autoMetaButton.textContent = prevText;\n        });\n    },\n    addPreview() {},\n    deletePreview() {\n      this.media.episode.preview = null;\n    },\n  },\n  created() {\n    this.uid = this.$route.params.uid;\n    this.retrieveMedia();\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@import \"@/assets/variables.scss\";\n\n.edit_meta{\n  position: relative;\n  .page_bg{\n    position: absolute;\n    width: 100%;\n    z-index: -1;\n    &:after{\n      position: absolute;\n      content: '';\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n      background: radial-gradient(50% 50% at 50% 50%, rgba(29, 29, 29, 0.58) 0%, #1D1D1D 100%);\n    }\n  }\n  &-logo{\n    height: 120px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 10px 0;\n  }\n  &-container{\n    display: flex;\n    align-items: center;\n    justify-content: space-around;\n    .leftside{\n      max-width: 300px;\n      .preview_image{\n        position: relative;\n        margin-bottom: 5px;\n        &:hover .preview_image-actions{\n          visibility: visible;\n          opacity: 1;\n        }\n        &-img{\n          border-radius: 10px;\n        }\n        &-actions{\n          position: absolute;\n          right: 10px;\n          top: 5px;\n          visibility: hidden;\n          opacity: 0;\n          transition: all .3s ease;\n          .delete_preview{\n            color: $white;\n            background: $blue;\n            border-radius: 50%;\n            padding: 5px;\n            cursor: pointer;\n          }\n        }\n      }\n      .episode_name{\n        font-family: $text-font;\n        color: $white;\n        font-size: 18px;\n        max-width: 290px;\n        margin: 0 auto;\n        text-align: center;\n      }\n    }\n    .rightside{\n      max-width: 35%;\n      .episode_meta{\n        .voices{\n          font-family: $text-font;\n          .selection{\n            height: 30px;\n          }\n          .voice_object{\n            line-height: 30px;\n            color: $dark-grey;\n          }\n        }\n        .subtitles_wrapper{\n          height: 80px;\n          .selection{\n            height: 30px;\n            font-size: 16px;\n            font-family: $text-font;\n          }\n        }\n        .auto_meta{\n          margin-top: 10px;\n          font-family: $text-font;\n          .autometa{\n            background: $dark;\n            &:hover + .auto_meta-caption{\n              color: $white;\n            }\n          }\n          &-caption{\n            margin: 5px 0 0 5px;\n            color: rgba(217, 217, 217, .7);\n            text-shadow: $text-shadow;\n          }\n        }\n        .delete_episode{\n          margin-top: 10px;\n          .red{\n            background: $red;\n          }\n        }\n      }\n    }\n  }\n}\n.toggle-enter-to, .toggle-leave{\n  max-height: 70px;\n  opacity: 1;\n}\n.toggle-enter-active, .toggle-leave-active {\n  transition: all .45s ease-in-out;\n}\n.toggle-enter, .toggle-leave-to {\n  max-height: 0;\n  opacity: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/EditMeta.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"edit_meta page_wrapper\"},[(_vm.loading)?_c('div',{staticClass:\"loading\"},[_c('svg',{attrs:{\"width\":\"32px\",\"height\":\"24px\"}},[_c('polyline',{attrs:{\"id\":\"back\",\"points\":\"1 6 4 6 6 11 10 1 12 6 15 6\"}}),_vm._v(\" \"),_c('polyline',{attrs:{\"id\":\"front\",\"points\":\"1 6 4 6 6 11 10 1 12 6 15 6\"}})])]):_c('div',{staticClass:\"page_content\"},[_c('div',{staticClass:\"page_bg\"},[_c('img',{staticClass:\"base_image\",attrs:{\"src\":(\"/i/\" + (_vm.media.backdrop))}})]),_vm._v(\" \"),_c('div',{staticClass:\"edit_meta-logo\"},[_c('img',{staticClass:\"base_image\",attrs:{\"src\":(\"/i/\" + (_vm.media.logo))}})]),_vm._v(\" \"),_c('div',{staticClass:\"edit_meta-container\"},[_c('div',{staticClass:\"leftside\"},[_c('div',{staticClass:\"preview_image\"},[_c('file',{staticClass:\"preview_image\",attrs:{\"image\":\"preview\",\"preview\":\"\",\"name\":\"preview\",\"draggable\":\"\",\"existing\":(\"/i/\" + (_vm.media.episode.preview))},model:{value:(_vm.episodePreview),callback:function ($$v) {_vm.episodePreview=$$v},expression:\"episodePreview\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"episode_name\"},[_c('span',{staticClass:\"episode_title\"},[_vm._v(_vm._s(_vm.media.episode.name))]),_c('br'),_vm._v(\"\\n          \"+_vm._s(_vm.media.episode.season)+\" сезон \"+_vm._s(_vm.media.episode.episode)+\" серия\\n        \")])]),_vm._v(\" \"),_c('div',{staticClass:\"rightside\"},[_c('div',{staticClass:\"episode_meta\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.handleEditMeta.apply(null, arguments)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.media.episode.name),expression:\"media.episode.name\"}],staticClass:\"input_wide\",attrs:{\"type\":\"text\",\"required\":\"\",\"placeholder\":\"Название\"},domProps:{\"value\":(_vm.media.episode.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.media.episode, \"name\", $event.target.value)}}}),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.media.episode.overview),expression:\"media.episode.overview\"}],staticClass:\"input_wide textarea_wide\",domProps:{\"value\":(_vm.media.episode.overview)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.media.episode, \"overview\", $event.target.value)}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.episodeMeta.videoSource),expression:\"episodeMeta.videoSource\"}],staticClass:\"input_wide\",attrs:{\"type\":\"text\",\"placeholder\":\"Источник видео\"},domProps:{\"value\":(_vm.episodeMeta.videoSource)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.episodeMeta, \"videoSource\", $event.target.value)}}}),_vm._v(\" \"),(_vm.voiceLoading || _vm.voices || _vm.episodeMeta.videoLang)?_c('div',{staticClass:\"voices\"},[(_vm.voiceLoading)?_c('div',{staticClass:\"voice_object input_wide\"},[_vm._v(\"\\n                Загрузка озвучек..\\n              \")]):_vm._e(),_vm._v(\" \"),_c('selecter',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.voices),expression:\"voices\"}],ref:\"voiceSelection\",attrs:{\"options\":_vm.voices,\"multiple\":\"\",\"placeholder\":\"Выберите озвучку\",\"updatable\":\"\"},model:{value:(_vm.episodeMeta.videoLang),callback:function ($$v) {_vm.$set(_vm.episodeMeta, \"videoLang\", $$v)},expression:\"episodeMeta.videoLang\"}})],1):_vm._e(),_vm._v(\" \"),(!_vm.voices && !_vm.voiceLoading)?_c('div',{staticClass:\"voices\"},[_c('selecter',{ref:\"voiceSelection\",attrs:{\"options\":_vm.defaultLangs,\"multiple\":\"\",\"placeholder\":\"Выберите язык\"},model:{value:(_vm.episodeMeta.voiceLang),callback:function ($$v) {_vm.$set(_vm.episodeMeta, \"voiceLang\", $$v)},expression:\"episodeMeta.voiceLang\"}})],1):_vm._e(),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"toggle\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.episodeMeta.videoLang === '20'),expression:\"episodeMeta.videoLang === '20'\"}],staticClass:\"subtitles_wrapper\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.episodeMeta.sub),expression:\"episodeMeta.sub\"}],staticClass:\"input_wide\",attrs:{\"type\":\"text\",\"placeholder\":\"Источник субтитров\"},domProps:{\"value\":(_vm.episodeMeta.sub)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.episodeMeta, \"sub\", $event.target.value)}}}),_vm._v(\" \"),_c('selecter',{ref:\"subtitlesSelection\",attrs:{\"options\":_vm.langs,\"multiple\":\"\",\"placeholder\":\"Язык субтитров\",\"defaultValue\":_vm.episodeMeta.subLang,\"updatable\":\"\"},model:{value:(_vm.episodeMeta.subLang),callback:function ($$v) {_vm.$set(_vm.episodeMeta, \"subLang\", $$v)},expression:\"episodeMeta.subLang\"}})],1)]),_vm._v(\" \"),_c('button',{ref:\"editMetaButton\",staticClass:\"btn btn_submit\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Сохранить\")])],1),_vm._v(\" \"),(_vm.voices)?_c('div',{staticClass:\"auto_meta\"},[_c('button',{ref:\"autoMetaButton\",staticClass:\"btn btn_submit autometa\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.parseMeta}},[_vm._v(\"Поиск Источников\")]),_vm._v(\" \"),_c('div',{staticClass:\"auto_meta-caption\"},[_vm._v(\"Укажите озвучку и субтитры перед поиском\")])]):_vm._e(),_vm._v(\" \"),_vm._m(0)])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"delete_episode\"},[_c('button',{staticClass:\"btn btn_submit red\",attrs:{\"type\":\"button\"}},[_vm._v(\"Удалить эпизод\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5741472a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/EditMeta.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5741472a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditMeta.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditMeta.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditMeta.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5741472a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditMeta.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5741472a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/EditMeta.vue\n// module id = null\n// module chunks = ","<template>\n  <article class=\"edit_element page_wrapper\">\n    <div class=\"loading\" v-if=\"loading\">\n      <svg width=\"32px\" height=\"24px\">\n        <polyline id=\"back\" points=\"1 6 4 6 6 11 10 1 12 6 15 6\"></polyline>\n        <polyline id=\"front\" points=\"1 6 4 6 6 11 10 1 12 6 15 6\"></polyline>\n      </svg>\n    </div>\n    <div class=\"page_content\" v-else>\n      <div class=\"page_bg\">\n        <img :src=\"`/i/${media.backdrop}`\" class=\"base_image\">\n      </div>\n      <div class=\"page_logo\">\n        <img :src=\"`/i/${media.logo}`\" class=\"base_image\" v-if=\"media.logo\">\n      </div>\n      <div class=\"page_container\">\n        <div class=\"page_container-left\">\n          <div class=\"images\" v-for=\"(image, index) in imageContents\" :key=\"index\">\n            <div :class=\"`${image}_image`\">\n              <div :class=\"`${image}_image-img`\">\n                <file :image=\"image\" preview :name=\"image\" draggable\n                  :existing=\"`/i/${media[image]}`\" v-model=\"movieInfo[image]\"\n                  :class=\"`${image}_file`\" v-if=\"media[image]\"/>\n                <file :image=\"image\" preview :name=\"image\" draggable\n                  v-model=\"movieInfo[image]\" :class=\"`${image}_file`\" v-else/>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"page_container-right\">\n          <div class=\"movie_meta\" v-if=\"media.media_type === 'movie'\">\n            <div class=\"block_title\">Изменить метаданные</div>\n            <form class=\"edit_movie-meta\" @submit.prevent=\"handleEditMeta\">\n              <input type=\"text\" placeholder=\"Источник видео\" class=\"input_wide\"\n                v-model=\"movieMeta.videoSource\">\n              <div class=\"voices\" v-if=\"voiceLoading || voices || movieMeta.voiceLang\">\n                <div class=\"voice_object input_wide\" v-if=\"voiceLoading\">\n                  Загрузка озвучек..\n                </div>\n                <selecter :options=\"voices\" v-show=\"voices\" multiple updatable\n                  placeholder=\"Выберите озвучку\" v-model=\"movieMeta.videoLang\"\n                  ref=\"voiceSelection\" />\n              </div>\n              <div class=\"voices\" v-if=\"!voices && !voiceLoading\">\n                <selecter :options=\"defaultLangs\" multiple ref=\"voiceSelection\"\n                  placeholder=\"Выберите язык\" v-model=\"movieMeta.videoLang\" />\n              </div>\n              <transition name=\"toggle\">\n                <div class=\"subtitles_wrapper\" v-if=\"movieMeta.videoLang === '20'\">\n                  <input type=\"text\" class=\"input_wide\" placeholder=\"Источник субтитров\"\n                    v-model=\"movieMeta.sub\">\n                  <selecter :options=\"extra.langs\" multiple placeholder=\"Язык субтитров\"\n                    v-model=\"movieMeta.subLang\" :defaultValue=\"movieMeta.subLang\"\n                    updatable ref=\"subtitlesSelection\" />\n                </div>\n              </transition>\n              <button type=\"submit\" class=\"btn btn_submit\"\n                ref=\"editMetaButton\">Сохранить</button>\n            </form>\n            <div class=\"auto_meta\" v-if=\"voices\">\n              <button type=\"button\" class=\"btn btn_submit autometa\"\n                @click=\"parseMeta\" ref=\"autoMetaButton\">Поиск источников</button>\n              <div class=\"auto_meta-caption\">Укажите озвучку и субтитры перед поиском</div>\n            </div>\n          </div>\n          <div class=\"movie_info\">\n            <div class=\"block_title\">Изменить информацию</div>\n            <form @submit.prevent=\"handleEditInfo\">\n              <input type=\"text\" required class=\"input_wide\" placeholder=\"Название\"\n                v-model=\"movieInfo.name\">\n              <input type=\"text\" class=\"input_wide\" required\n                placeholder=\"Оригинальное название\" v-model=\"movieInfo.originalName\">\n              <textarea class=\"input_wide textarea_wide\" placeholder=\"Описание\"\n                v-model=\"movieInfo.overview\"></textarea>\n              <button type=\"submit\" class=\"btn btn_submit\"\n                ref=\"editInfoButton\">Сохранить</button>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </article>\n</template>\n<script>\nimport fileUpload from '@/components/FileUploader';\nimport selecter from '@/components/Selecter';\nimport Exchange from '../services/exchange.service';\n\nexport default {\n  name: 'EditElement',\n  components: { file: fileUpload, selecter },\n  data() {\n    return {\n      backend: new Exchange(),\n      iud: null,\n      loading: true,\n      extra: null,\n      voiceLoading: true,\n      voices: null,\n      imageContents: ['poster', 'backdrop', 'logo'],\n      defaultLangs: null,\n      movieMeta: {\n        videoSource: null,\n        videoLang: null,\n        sub: null,\n        subLang: null,\n      },\n      movieInfo: {\n        name: null,\n        originalName: null,\n        overview: null,\n        logo: null,\n        poster: null,\n        backdrop: null,\n      },\n    };\n  },\n  methods: {\n    retrieveMedia() {\n      this.backend\n        .get(`/api/media/${this.uid}`)\n        .then((resp) => {\n          if (resp) {\n            this.media = resp.body;\n            this.extra = resp.extra;\n          }\n        })\n        .catch(err => console.error(err))\n        .finally(() => {\n          this.loading = false;\n          this.applyData();\n          this.retrieveVoices();\n        });\n    },\n    applyData() {\n      this.movieInfo.name = this.media.name;\n      this.movieInfo.originalName = this.media.original_name;\n      this.movieInfo.overview = this.media.overview;\n      if (this.media.meta) {\n        this.movieMeta.videoSource = this.media.meta.video_source;\n        this.movieMeta.videoLang = this.media.meta.video_lang;\n        this.movieMeta.sub = this.media.meta.sub;\n        this.movieMeta.subLang = this.media.meta.sub_lang;\n      }\n    },\n    retrieveVoices() {\n      const params = {\n        imdb_id: this.media.imdb_id,\n        media_type: this.media.media_type,\n      };\n      this.backend\n        .get(`/api/voices/${this.media.media_type}`, params)\n        .then((resp) => {\n          if (resp) {\n            this.voices = resp.body.results;\n          }\n        })\n        .catch(err => console.error(err))\n        .finally(() => {\n          this.voiceLoading = false;\n        });\n    },\n    handleEditMeta() {\n      let saved = false;\n      const prevText = this.$refs.editMetaButton.textContent;\n      this.$refs.editMetaButton.textContent = '';\n      this.backend\n        .post(`/api/meta/edit/${this.media.media_type}/${this.uid}`, this.movieMeta)\n        .then((resp) => {\n          if (resp) {\n            saved = true;\n          }\n        })\n        .catch(err => console.error(err))\n        .finally(() => {\n          this.$refs.editMetaButton.textContent = prevText;\n          if (saved) {\n            setTimeout(() => {\n              location.href = `/${this.media.uid}`;\n            }, 1500);\n          }\n        });\n    },\n    parseMeta() {\n      const params = {\n        voice: this.movieMeta.videoLang,\n        sub: this.movieMeta.subLang,\n      };\n      const prevText = this.$refs.autoMetaButton.textContent;\n      this.$refs.autoMetaButton.textContent = '';\n      this.backend\n        .get(`/api/meta/${this.media.media_type}/${this.media.imdb_id}`, params)\n        .then((resp) => {\n          if (resp) {\n            this.movieMeta.videoSource = resp.results.video_src;\n            this.movieMeta.sub = resp.results.sub_src;\n          }\n        })\n        .catch(err => console.error(err))\n        .finally(() => {\n          this.$refs.autoMetaButton.textContent = prevText;\n        });\n    },\n    handelEditInfo() {\n      let saved = false;\n      const formData = new FormData();\n      Object.keys(this.movieInfo).forEach(key => formData.append(key, this.episodeMeta[key]));\n      const prevText = this.$refs.editInfoButton.textContent;\n      this.$refs.editInfoButton.textContent = '';\n      this.backend\n        .post(`/api/${this.media.uid}/`, formData)\n        .then((resp) => {\n          if (resp) {\n            saved = true;\n          }\n        })\n        .finally(() => {\n          this.$refs.editInfoButton.textContent = prevText;\n          if (saved) {\n            setTimeout(() => {\n              location.href = `/${this.media.uid}`;\n            }, 1500);\n          }\n        });\n    },\n  },\n  created() {\n    this.uid = this.$route.params.uid;\n    this.retrieveMedia();\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@import \"@/assets/variables.scss\";\n.edit_element{\n  position: relative;\n  .page{\n    &_content{\n      width: 100%;\n    }\n    &_bg{\n      position: absolute;\n      width: 100%;\n      z-index: -1;\n      &:after{\n        position: absolute;\n        content: '';\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        background: radial-gradient(50% 50% at 50% 50%, rgba(29, 29, 29, 0.58) 0%, #1D1D1D 100%);\n      }\n    }\n    &_logo{\n      height: 120px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin: 10px 0;\n    }\n    &_container{\n      display: flex;\n      align-items: center;\n      justify-content: space-around;\n      &-left{\n        max-width: 200px;\n        .poster_image{\n          position: relative;\n          margin-bottom: 5px;\n          &:hover .poster_image-actions{\n          visibility: visible;\n          opacity: 1;\n          }\n          &-img{\n            border-radius: 10px;\n            .poster_file{\n              max-width: 200px;\n              aspect-ratio: 2 / 3;\n            }\n          }\n          &-actions{\n            position: absolute;\n            right: 10px;\n            top: 5px;\n            visibility: hidden;\n            opacity: 0;\n            transition: all .3s ease;\n            .delete_preview{\n              color: $white;\n              background: $blue;\n              border-radius: 50%;\n              padding: 5px;\n              cursor: pointer;\n            }\n          }\n        }\n        .backdrop_image{\n          position: relative;\n          margin-bottom: 5px;\n          &:hover .backdrop_image-actions{\n            visibility: visible;\n            opacity: 1;\n          }\n          &-img{\n            border-radius: 10px;\n          }\n          &-actions{\n            position: absolute;\n            right: 10px;\n            top: 5px;\n            visibility: hidden;\n            overflow: 0;\n            transition: all .3s ease;\n            .delete_preview{\n              color: $white;\n              background: $blue;\n              border-radius: 50%;\n              padding: 5px;\n              cursor: pointer;\n            }\n          }\n        }\n        .logo_image{\n          position: relative;\n          margin-bottom: 5px;\n          &:hover .logo_image-actions{\n            visibility: visible;\n            opacity: 1;\n          }\n          &-img{\n            border-radius: 10px;\n          }\n          &-actions{\n            position: absolute;\n            right: 10px;\n            top: 5px;\n            visibility: hidden;\n            overflow: 0;\n            transition: all .3s ease;\n            .delete_preview{\n              color: $white;\n              background: $blue;\n              border-radius: 50%;\n              padding: 5px;\n              cursor: pointer;\n            }\n          }\n        }\n        .movie_name{\n          color: $white;\n          font-family: $text-font;\n          max-width: 190px;\n          text-align: center;\n          font-size: 16px;\n          margin: 0 auto;\n        }\n      }\n      &-right{\n        font-family: $text-font;\n        .block_title{\n          color: $white;\n          margin-bottom: 10px;\n          text-align: center;\n          font-size: 18px;\n        }\n        .movie_meta{\n          margin-bottom: 20px;\n          .voices{\n            .voice_object{\n              line-height: 30px;\n              color: $dark-grey;\n            }\n          }\n          .auto_meta{\n            margin-top: 10px;\n            font-family: $text-font;\n            .autometa{\n              background: $dark;\n              &:hover + .auto_meta-caption{\n                color: $white;\n              }\n            }\n            &-caption{\n              margin: 5px 0 0 5px;\n              color: rgba(217, 217, 217, .7);\n              text-shadow: $text-shadow;\n            }\n          }\n        }\n        .movie_info{\n          max-width: 450px;\n          .info_files{\n            display: flex;\n          }\n        }\n      }\n    }\n  }\n}\n.toggle-enter-to, .toggle-leave{\n  max-height: 70px;\n  opacity: 1;\n}\n.toggle-enter-active, .toggle-leave-active {\n  transition: all .45s ease-in-out;\n}\n.toggle-enter, .toggle-leave-to {\n  max-height: 0;\n  opacity: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/EditElement.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"edit_element page_wrapper\"},[(_vm.loading)?_c('div',{staticClass:\"loading\"},[_c('svg',{attrs:{\"width\":\"32px\",\"height\":\"24px\"}},[_c('polyline',{attrs:{\"id\":\"back\",\"points\":\"1 6 4 6 6 11 10 1 12 6 15 6\"}}),_vm._v(\" \"),_c('polyline',{attrs:{\"id\":\"front\",\"points\":\"1 6 4 6 6 11 10 1 12 6 15 6\"}})])]):_c('div',{staticClass:\"page_content\"},[_c('div',{staticClass:\"page_bg\"},[_c('img',{staticClass:\"base_image\",attrs:{\"src\":(\"/i/\" + (_vm.media.backdrop))}})]),_vm._v(\" \"),_c('div',{staticClass:\"page_logo\"},[(_vm.media.logo)?_c('img',{staticClass:\"base_image\",attrs:{\"src\":(\"/i/\" + (_vm.media.logo))}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"page_container\"},[_c('div',{staticClass:\"page_container-left\"},_vm._l((_vm.imageContents),function(image,index){return _c('div',{key:index,staticClass:\"images\"},[_c('div',{class:(image + \"_image\")},[_c('div',{class:(image + \"_image-img\")},[(_vm.media[image])?_c('file',{class:(image + \"_file\"),attrs:{\"image\":image,\"preview\":\"\",\"name\":image,\"draggable\":\"\",\"existing\":(\"/i/\" + (_vm.media[image]))},model:{value:(_vm.movieInfo[image]),callback:function ($$v) {_vm.$set(_vm.movieInfo, image, $$v)},expression:\"movieInfo[image]\"}}):_c('file',{class:(image + \"_file\"),attrs:{\"image\":image,\"preview\":\"\",\"name\":image,\"draggable\":\"\"},model:{value:(_vm.movieInfo[image]),callback:function ($$v) {_vm.$set(_vm.movieInfo, image, $$v)},expression:\"movieInfo[image]\"}})],1)])])}),0),_vm._v(\" \"),_c('div',{staticClass:\"page_container-right\"},[(_vm.media.media_type === 'movie')?_c('div',{staticClass:\"movie_meta\"},[_c('div',{staticClass:\"block_title\"},[_vm._v(\"Изменить метаданные\")]),_vm._v(\" \"),_c('form',{staticClass:\"edit_movie-meta\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleEditMeta.apply(null, arguments)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.movieMeta.videoSource),expression:\"movieMeta.videoSource\"}],staticClass:\"input_wide\",attrs:{\"type\":\"text\",\"placeholder\":\"Источник видео\"},domProps:{\"value\":(_vm.movieMeta.videoSource)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.movieMeta, \"videoSource\", $event.target.value)}}}),_vm._v(\" \"),(_vm.voiceLoading || _vm.voices || _vm.movieMeta.voiceLang)?_c('div',{staticClass:\"voices\"},[(_vm.voiceLoading)?_c('div',{staticClass:\"voice_object input_wide\"},[_vm._v(\"\\n                Загрузка озвучек..\\n              \")]):_vm._e(),_vm._v(\" \"),_c('selecter',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.voices),expression:\"voices\"}],ref:\"voiceSelection\",attrs:{\"options\":_vm.voices,\"multiple\":\"\",\"updatable\":\"\",\"placeholder\":\"Выберите озвучку\"},model:{value:(_vm.movieMeta.videoLang),callback:function ($$v) {_vm.$set(_vm.movieMeta, \"videoLang\", $$v)},expression:\"movieMeta.videoLang\"}})],1):_vm._e(),_vm._v(\" \"),(!_vm.voices && !_vm.voiceLoading)?_c('div',{staticClass:\"voices\"},[_c('selecter',{ref:\"voiceSelection\",attrs:{\"options\":_vm.defaultLangs,\"multiple\":\"\",\"placeholder\":\"Выберите язык\"},model:{value:(_vm.movieMeta.videoLang),callback:function ($$v) {_vm.$set(_vm.movieMeta, \"videoLang\", $$v)},expression:\"movieMeta.videoLang\"}})],1):_vm._e(),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"toggle\"}},[(_vm.movieMeta.videoLang === '20')?_c('div',{staticClass:\"subtitles_wrapper\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.movieMeta.sub),expression:\"movieMeta.sub\"}],staticClass:\"input_wide\",attrs:{\"type\":\"text\",\"placeholder\":\"Источник субтитров\"},domProps:{\"value\":(_vm.movieMeta.sub)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.movieMeta, \"sub\", $event.target.value)}}}),_vm._v(\" \"),_c('selecter',{ref:\"subtitlesSelection\",attrs:{\"options\":_vm.extra.langs,\"multiple\":\"\",\"placeholder\":\"Язык субтитров\",\"defaultValue\":_vm.movieMeta.subLang,\"updatable\":\"\"},model:{value:(_vm.movieMeta.subLang),callback:function ($$v) {_vm.$set(_vm.movieMeta, \"subLang\", $$v)},expression:\"movieMeta.subLang\"}})],1):_vm._e()]),_vm._v(\" \"),_c('button',{ref:\"editMetaButton\",staticClass:\"btn btn_submit\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Сохранить\")])],1),_vm._v(\" \"),(_vm.voices)?_c('div',{staticClass:\"auto_meta\"},[_c('button',{ref:\"autoMetaButton\",staticClass:\"btn btn_submit autometa\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.parseMeta}},[_vm._v(\"Поиск источников\")]),_vm._v(\" \"),_c('div',{staticClass:\"auto_meta-caption\"},[_vm._v(\"Укажите озвучку и субтитры перед поиском\")])]):_vm._e()]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"movie_info\"},[_c('div',{staticClass:\"block_title\"},[_vm._v(\"Изменить информацию\")]),_vm._v(\" \"),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.handleEditInfo.apply(null, arguments)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.movieInfo.name),expression:\"movieInfo.name\"}],staticClass:\"input_wide\",attrs:{\"type\":\"text\",\"required\":\"\",\"placeholder\":\"Название\"},domProps:{\"value\":(_vm.movieInfo.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.movieInfo, \"name\", $event.target.value)}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.movieInfo.originalName),expression:\"movieInfo.originalName\"}],staticClass:\"input_wide\",attrs:{\"type\":\"text\",\"required\":\"\",\"placeholder\":\"Оригинальное название\"},domProps:{\"value\":(_vm.movieInfo.originalName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.movieInfo, \"originalName\", $event.target.value)}}}),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.movieInfo.overview),expression:\"movieInfo.overview\"}],staticClass:\"input_wide textarea_wide\",attrs:{\"placeholder\":\"Описание\"},domProps:{\"value\":(_vm.movieInfo.overview)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.movieInfo, \"overview\", $event.target.value)}}}),_vm._v(\" \"),_c('button',{ref:\"editInfoButton\",staticClass:\"btn btn_submit\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Сохранить\")])])])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6977c2b6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/EditElement.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6977c2b6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditElement.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditElement.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditElement.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6977c2b6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditElement.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6977c2b6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/EditElement.vue\n// module id = null\n// module chunks = ","<template>\n  <article class=\"watch page_wrapper\">\n    <div class=\"page_content\" v-if=\"media\">\n      <div class=\"page_bg\" v-if=\"media.backdrop\">\n        <img :src=\"`/i/${media.backdrop}`\" class=\"base_image\">\n      </div>\n      <div class=\"watch_logo\" @click=\"redirect(`/${media.uid}`)\">\n        <img :src=\"`/i/${media.logo}`\" class=\"base_image\" v-if=\"media.logo\">\n      </div>\n      <div class=\"watch_info\">\n        <div class=\"episode_name\">{{ media.episode.name }}</div>\n        <div class=\"episode_info\">\n          {{ media.episode.season }} сезон {{ media.episode.episode }} Серия\n        </div>\n      </div>\n      <div class=\"watch_player\">\n        <div class=\"prev_episode\" v-if=\"media.prev_episode\"\n          @click=\"redirect(`/watch/${media.prev_episode.uid}`)\">\n          <div class=\"episode_caption\">\n            <span class=\"episode_name\">{{ media.prev_episode.name }}</span><br>\n            {{ media.prev_episode.episode }} серия\n          </div>\n        </div>\n        <div class=\"loading\" v-if=\"loading\">\n          <svg width=\"32px\" height=\"24px\">\n            <polyline id=\"back\" points=\"1 6 4 6 6 11 10 1 12 6 15 6\"></polyline>\n            <polyline id=\"front\" points=\"1 6 4 6 6 11 10 1 12 6 15 6\"></polyline>\n          </svg>\n        </div>\n        <msplayer :videoSource=\"media.episode.meta.video_source\"\n          :preview=\"`/i/${media.episode.preview}`\" :title=\"media.episode.title\"\n          :subtitle=\"media.episode.meta.sub\" :subLang=\"media.episode.meta.sub_lang\"\n          :continue=\"media.episode.continue\" :local=\"media.episode.meta.downloaded\"\n          :filename=\"media.episode.meta.filename\" ref=\"MSPlayer\" @unload=\"sendPlayerData\" />\n        <div class=\"next_episode\" v-if=\"media.next_episode\"\n          @click=\"redirect(`/watch/${media.next_episode.uid}`)\">\n          <div class=\"episode_caption\">\n            <span class=\"episode_name\">{{ media.next_episode.name }}</span><br>\n            {{ media.next_episode.episode }} серия\n          </div>\n        </div>\n      </div>\n      <div class=\"watch_overview\">\n        <div class=\"overview_title\">Описание</div>\n        <p class=\"overview\">{{ media.episode.overview }}</p>\n      </div>\n    </div>\n  </article>\n</template>\n<script>\nimport msplayer from '@/components/Player';\nimport Exchange from '../services/exchange.service';\n\nexport default {\n  name: 'Watch',\n  components: { msplayer },\n  data() {\n    return {\n      backend: new Exchange(),\n      uid: null,\n      media: null,\n      loading: true,\n      extra: null,\n      video: null,\n      params: {\n        continue: null,\n      },\n    };\n  },\n  methods: {\n    retrieveMedia() {\n      const params = {\n        nghbr: true,\n      };\n      this.backend\n        .get(`/api/episode/${this.uid}`, params)\n        .then((resp) => {\n          if (resp) {\n            this.media = resp.body;\n            this.extra = resp.extra;\n            console.log(this.media);\n          }\n        })\n        .catch(err => console.log(err))\n        .finally(() => {\n          this.$refs.MSPlayer.initPlayer();\n        });\n    },\n    redirect(url) {\n      location.href = url;\n    },\n    sendPlayerData(playerData) {\n      const data = {\n        player: playerData,\n        mediaType: this.media.media_type,\n        uid: this.uid,\n      };\n      if (playerData.timestamp && playerData.duration) {\n        this.backend.beacon(data);\n      }\n    },\n  },\n  created() {\n    this.uid = this.$route.params.uid;\n    this.retrieveMedia();\n    this.params.continue = this.$route.query.c;\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@import \"@/assets/variables.scss\";\n\n.watch{\n  .page_content{\n    position: relative;\n    .page_bg{\n      position: absolute;\n      z-index: -1;\n      .base_image{\n        z-index: 0;\n      }\n      &:after{\n        position: absolute;\n        content: '';\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: radial-gradient(50% 50% at 50% 50%, rgba(29, 29, 29, 0.58) 0%, #1D1D1D 100%);\n      }\n    }\n  }\n  &_logo{\n    height: 120px;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 10px 0;\n  }\n  &_info{\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    margin-bottom: 12px;\n    color: $white;\n    font-family: $text-font;\n    .episode_name{\n      font-family: $title-font;\n      font-weight: bold;\n      font-size: 22px;\n    }\n  }\n  &_player{\n    width: 100%;\n    position: relative;\n    aspect-ratio: 16 / 9;\n    background: rgba(0, 0, 0, .3);\n    border-radius: 10px;\n    margin-bottom: 10px;\n    .prev_episode,\n    .next_episode{\n      visibility: hidden;\n      height: 45px;\n      position: absolute;\n      top: calc(50% - 22.5px);\n      border-radius: 30px;\n      background: $blue;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: $white;\n      font-size: 14px;\n      font-family: $title-font;\n      cursor: pointer;\n      .episode_name{\n        font-size: 16px;\n        font-family: $text-font;\n        font-weight: bold;\n      }\n      &:hover{\n        visibility: visible;\n      }\n    }\n    .prev_episode{\n      left: -20px;\n      padding: 5px 20px 5px 0;\n      z-index: 1;\n      &:before{\n        visibility: visible;\n        font-family: 'FontAwesome';\n        font-size: 20px;\n        width: 45px;\n        height: 45px;\n        content: '\\f053';\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background: $dark-grey;\n        border-radius: 50%;\n        color: $white;\n        margin-right: 10px;\n      }\n    }\n    .next_episode{\n      right: -20px;\n      padding: 5px 0 5px 20px;\n      text-align: right;\n      &:after{\n        content: '\\f054';\n        visibility: visible;\n        font-family: 'FontAwesome';\n        font-size: 20px;\n        width: 45px;\n        height: 45px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background: $dark-grey;\n        border-radius: 50%;\n        color: $white;\n        margin-left: 10px;\n      }\n    }\n  }\n  &_overview{\n    .overview_title{\n      font-family: $title-font;\n      font-size: 24px;\n      text-shadow: $text-shadow;\n      font-weight: bold;\n      margin-bottom: 10px;\n    }\n    padding: 0 10px;\n    font-family: $text-font;\n    color: $white;\n    text-align: justify;\n\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/Watch.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"watch page_wrapper\"},[(_vm.media)?_c('div',{staticClass:\"page_content\"},[(_vm.media.backdrop)?_c('div',{staticClass:\"page_bg\"},[_c('img',{staticClass:\"base_image\",attrs:{\"src\":(\"/i/\" + (_vm.media.backdrop))}})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"watch_logo\",on:{\"click\":function($event){return _vm.redirect((\"/\" + (_vm.media.uid)))}}},[(_vm.media.logo)?_c('img',{staticClass:\"base_image\",attrs:{\"src\":(\"/i/\" + (_vm.media.logo))}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"watch_info\"},[_c('div',{staticClass:\"episode_name\"},[_vm._v(_vm._s(_vm.media.episode.name))]),_vm._v(\" \"),_c('div',{staticClass:\"episode_info\"},[_vm._v(\"\\n        \"+_vm._s(_vm.media.episode.season)+\" сезон \"+_vm._s(_vm.media.episode.episode)+\" Серия\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"watch_player\"},[(_vm.media.prev_episode)?_c('div',{staticClass:\"prev_episode\",on:{\"click\":function($event){return _vm.redirect((\"/watch/\" + (_vm.media.prev_episode.uid)))}}},[_c('div',{staticClass:\"episode_caption\"},[_c('span',{staticClass:\"episode_name\"},[_vm._v(_vm._s(_vm.media.prev_episode.name))]),_c('br'),_vm._v(\"\\n          \"+_vm._s(_vm.media.prev_episode.episode)+\" серия\\n        \")])]):_vm._e(),_vm._v(\" \"),(_vm.loading)?_c('div',{staticClass:\"loading\"},[_c('svg',{attrs:{\"width\":\"32px\",\"height\":\"24px\"}},[_c('polyline',{attrs:{\"id\":\"back\",\"points\":\"1 6 4 6 6 11 10 1 12 6 15 6\"}}),_vm._v(\" \"),_c('polyline',{attrs:{\"id\":\"front\",\"points\":\"1 6 4 6 6 11 10 1 12 6 15 6\"}})])]):_vm._e(),_vm._v(\" \"),_c('msplayer',{ref:\"MSPlayer\",attrs:{\"videoSource\":_vm.media.episode.meta.video_source,\"preview\":(\"/i/\" + (_vm.media.episode.preview)),\"title\":_vm.media.episode.title,\"subtitle\":_vm.media.episode.meta.sub,\"subLang\":_vm.media.episode.meta.sub_lang,\"continue\":_vm.media.episode.continue,\"local\":_vm.media.episode.meta.downloaded,\"filename\":_vm.media.episode.meta.filename},on:{\"unload\":_vm.sendPlayerData}}),_vm._v(\" \"),(_vm.media.next_episode)?_c('div',{staticClass:\"next_episode\",on:{\"click\":function($event){return _vm.redirect((\"/watch/\" + (_vm.media.next_episode.uid)))}}},[_c('div',{staticClass:\"episode_caption\"},[_c('span',{staticClass:\"episode_name\"},[_vm._v(_vm._s(_vm.media.next_episode.name))]),_c('br'),_vm._v(\"\\n          \"+_vm._s(_vm.media.next_episode.episode)+\" серия\\n        \")])]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"watch_overview\"},[_c('div',{staticClass:\"overview_title\"},[_vm._v(\"Описание\")]),_vm._v(\" \"),_c('p',{staticClass:\"overview\"},[_vm._v(_vm._s(_vm.media.episode.overview))])])]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0fb3fb9e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Watch.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0fb3fb9e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Watch.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Watch.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Watch.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0fb3fb9e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Watch.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0fb3fb9e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Watch.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"checkbox\" @click=\"changeInput\">\n    <div class=\"checkbox_box\"></div>\n    <input type=\"checkbox\" name=\"check\" :id=\"id\" class=\"checkbox-input\"\n      @change=\"changeInput\">\n    <div class=\"checkbox_check\" :class=\"isSelected ? 'checked' : ''\">\n      <i class=\"ms-icon check wh-20\"></i>\n    </div>\n    <span class=\"checkbox_label\">{{ label }}</span>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'CheckBox',\n  props: {\n    label: {\n      type: String,\n      default: 'Выбрать',\n    },\n    user: {\n      type: Boolean,\n      default: false,\n    },\n    id: {\n      type: String,\n      default: 'check',\n    },\n  },\n  data() {\n    return {\n      isSelected: false,\n    };\n  },\n  methods: {\n    changeInput() {\n      this.isSelected = !this.isSelected;\n      event.target.checked = this.isSelected;\n      this.$emit('input', this.isSelected);\n    },\n  },\n  updated() {\n    this.$nextTick(() => {\n      if (this.user) {\n        this.isSelected = this.user;\n      }\n    });\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@import \"@/assets/variables.scss\";\n\n.checkbox{\n  position: relative;\n  display: flex;\n  width: 100%;\n  align-items: center;\n  margin-bottom: 10px;\n  &-input{\n    display: none;\n  }\n  &_box{\n    width: 25px;\n    height: 25px;\n    background: $white;\n    border: 2px solid $grey;\n    border-radius: 8px;\n    cursor: pointer;\n  }\n  &_check{\n    opacity: 0;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 25px;\n    height: 25px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    &.checked{\n      opacity: 1;\n    }\n  }\n  &_label{\n    cursor: pointer;\n    color: $white;\n    font-family: $text-font;\n    font-size: 17px;\n    margin-left: 10px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Checkbox.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"checkbox\",on:{\"click\":_vm.changeInput}},[_c('div',{staticClass:\"checkbox_box\"}),_vm._v(\" \"),_c('input',{staticClass:\"checkbox-input\",attrs:{\"type\":\"checkbox\",\"name\":\"check\",\"id\":_vm.id},on:{\"change\":_vm.changeInput}}),_vm._v(\" \"),_c('div',{staticClass:\"checkbox_check\",class:_vm.isSelected ? 'checked' : ''},[_c('i',{staticClass:\"ms-icon check wh-20\"})]),_vm._v(\" \"),_c('span',{staticClass:\"checkbox_label\"},[_vm._v(_vm._s(_vm.label))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-37577eec\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Checkbox.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-37577eec\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Checkbox.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Checkbox.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Checkbox.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-37577eec\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Checkbox.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-37577eec\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Checkbox.vue\n// module id = null\n// module chunks = ","<template>\n  <article class=\"user page_wrapper\">\n    <div class=\"user_profile\">\n      <div class=\"block_info\">\n        <div class=\"block_title\">Настройки профиля</div>\n      </div>\n      <div class=\"user_profile-form\">\n        <div class=\"leftside\" :style=\"`background: ${userInfo.color}59;`\">\n          <form class=\"user_form\" @submit.prevent=\"changeUserInfo\">\n            <div class=\"form_row\">\n              <div class=\"form_column small\">\n                <div class=\"avatar\">\n                  <file image=\"avatar\" preview name=\"avatar\" draggable class=\"avatar_image\"\n                    :existing=\"userInfo.profile.avatar\" v-model=\"userInfo.profile.newAvatar\"\n                    :color=\"userInfo.color\" v-if=\"userInfo.profile.avatar\"/>\n                </div>\n              </div>\n              <div class=\"form_column\">\n                <input type=\"text\" class=\"input_wide\" required placeholder=\"Логин\"\n                  v-model=\"userInfo.profile.username\" id=\"cLogin\">\n                <selecter :options=\"extra.voices\" multiple placeholder=\"Выберите любимую озвучку\"\n                  v-model=\"userInfo.profile.chosenVoice\" updatable ref=\"userVoiceSelection\"/>\n                <CheckBox label=\"Автоматический поиск\" :user=\"userInfo.profile.autoSearch\"\n                  v-model=\"userInfo.profile.autoSearch\" :id=\"`search_${userInfo.profile.uid}`\"/>\n                <CheckBox label=\"Общий доступ к библиотеке\" :user=\"userInfo.profile.shareDownloads\"\n                  v-model=\"userInfo.profile.shareDownloads\" :id=\"`share_${userInfo.profile.uid}`\" />\n              </div>\n            </div>\n            <button type=\"submit\" class=\"btn btn_submit\"\n              :class=\"userFormValid ? '': 'not_valid'\" :disabled=\"!userFormValid\"\n              ref=\"changeUserInfoButton\">Сохранить</button>\n          </form>\n        </div>\n        <div class=\"rightside\" v-if=\"userInfo.isAdmin\">\n          <div class=\"form_title\">Создать пользователя</div>\n          <form class=\"new_user\" @submit.prevent=\"newUserCreate\">\n            <div class=\"form_row\">\n              <input type=\"text\" class=\"input_wide\" placeholder=\"Логин\" id=\"nuLogin\"\n                required autocomplete=\"off\" v-model=\"newUser.username\">\n              <input type=\"number\" placeholder=\"Возраст\" required   class=\"input_wide\"\n                v-model=\"newUser.age\" id=\"nuAge\">\n            </div>\n            <input type=\"password\" placeholder=\"Пароль\" required class=\"input_wide\"\n              v-model=\"newUser.password\" id=\"nuPassword\">\n            <input type=\"email\" placeholder=\"Email\" required class=\"input_wide\"\n              v-model=\"newUser.email\" id=\"nuEmail\">\n            <button type=\"submit\" class=\"btn btn_submit\"\n              ref=\"newUserButton\">Создать</button>\n          </form>\n        </div>\n      </div>\n      <button type=\"button\" class=\"btn btn_submit btn_exit\"\n        @click=\"logout\">Выйти из аккаунта</button>\n    </div>\n    <div class=\"user_history\" v-if=\"userInfo.history && userInfo.history.length > 1\">\n      <div class=\"block_info\">\n        <div class=\"block_title\">История просмотра</div>\n        <div class=\"block_action\">\n          <a href=\"/user/history\" class=\"base_link\" v-show=\"isHistoryLong\">Показать остальное</a>\n        </div>\n      </div>\n      <div class=\"user_history-wrapper\">\n        <div class=\"history_item\" v-for=\"history in userInfo.history\" :key=\"history.uid\">\n          <div class=\"history_item-card\">\n            <img :src=\"`/i/${history.picture}`\" class=\"base_image preview_image\"\n              v-if=\"history.picture\">\n            <img src=\"/static/default-history-image.png\" class=\"base_image preview_image\"\n              v-else>\n            <div class=\"history_item-actions\">\n              <div class=\"delete_button\" @click=\"deleteFromHistory(history.uid)\">\n                <i class=\"ms-icon xmark wh-20\"></i>\n              </div>\n            </div>\n          </div>\n          <div class=\"history_item-info\">\n            <div class=\"info_name\">{{ history.name }}</div>\n            <div class=\"info_additional\" :title=\"history.additional\">{{ history.additional }}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"user_queue\" v-show=\"queueList && queueList.length >= 1\n      || userInfo.queue && userInfo.queue.length >= 1\">\n      <div class=\"block_info\">\n        <div class=\"block_title\">Очередь скачивания</div>\n        <div class=\"block_action\">\n          <a class=\"base_link\" @click=\"saveQueue\" v-if=\"queueList && queueList.length > 1\"\n            >Сохранить очередь</a>\n          <a class=\"base_link clear_all_button\" @click=\"clearQueue\"\n            v-if=\"queueList && queueList > 1 || userInfo.queue && userInfo.queue.length > 1\">\n              Очистить очередь</a>\n          <a class=\"base_link download_all_button\" @click=\"downloadAll\"\n            v-if=\"queueList && queueList > 1 || userInfo.queue && userInfo.queue.length > 1\">\n            Скачать все</a>\n        </div>\n      </div>\n      <div class=\"user_queue-wrapper\">\n        <div class=\"queue_item\" v-for=\"(q, index) in queueList\" :key=\"q[q.type].uid\">\n          <div class=\"queue_card\">\n            <img :src=\"`/i/${q[q.type].preview}`\" class=\"base_image preview_image\">\n            <div class=\"queue_actions\">\n              <div class=\"download_button\" @click=\"downloadEl(q[q.type].filename)\">\n                <i class=\"ms-icon download wh-20\"></i>\n              </div>\n              <div class=\"clear_button\" @click=\"clearEl(index, q.type, q[q.type].uid)\">\n                <i class=\"ms-icon xmark wh-20\"></i>\n              </div>\n              <div class=\"runtime\"> {{ q[q.type].runtime }}</div>\n            </div>\n          </div>\n          <div class=\"queue_info\">\n            <div class=\"info_data\">\n              {{ q[q.type].name }} {{ q[q.type].season }} сезон {{ q[q.type].episode }} серия\n            </div>\n            <div class=\"info_name\" :title=\"q[q.type].title\">{{ q[q.type].title }}</div>\n          </div>\n        </div>\n        <div class=\"queue_item\" v-for=\"(q, index) in userInfo.queue\" :key=\"q.uid\">\n          <div class=\"queue_card\">\n            <img :src=\"`/i/${q.picture}`\" alt=\"\" class=\"base_image preview_image\">\n            <div class=\"queue_actions\">\n              <div class=\"download_button\" @click=\"downloadElFromQ(index, q.uid)\">\n                <div class=\"ms-icon download wh-20\"></div>\n              </div>\n              <div class=\"clear_button\" @click=\"clearElFromQ(index, q.type, q.uid)\">\n                <i class=\"ms-icon xmark wh-20\"></i>\n              </div>\n              <div class=\"runtime\"> {{ q.runtime }} мин</div>\n            </div>\n          </div>\n          <div class=\"queue_info\">\n            <div class=\"info_data\">{{ q.name }}</div>\n            <div class=\"info_name\" :title=\"q.additional\">{{ q.additional }}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"user_downloads\" v-show=\"userInfo.downloads && userInfo.downloads.length >= 1\">\n      <div class=\"block_info\">\n        <div class=\"block_title\">Загрузки</div>\n        <div class=\"block_action\">\n          <a class=\"base_link clear_all_button\" @click=\"clearDownloads\">Удалить все</a>\n          <a href=\"/user/downloads\" class=\"base_link\"\n            v-show=\"userInfo.downloads && userInfo.downloads.length > 4\">Показать остальное</a>\n        </div>\n      </div>\n      <div class=\"user_downloads-wrapper\">\n        <div class=\"downloads\" v-for=\"(d, index) in userInfo.downloads\" :key=\"d.uid\">\n          <div class=\"downloads_card\">\n            <img :src=\"`/i/${d.preview}`\" class=\"base_image preview_image\">\n            <div class=\"downloads_actions\" v-if=\"d.completed\">\n              <a :href=\"`/watch/${d.watch_uid}`\" class=\"base_link watch_button base_button\">\n                <i class=\"ms-icon play wh-20\"></i>\n              </a>\n              <div class=\"clear_button\" @click=\"clearDownload(index, d.uid)\">\n                <i class=\"ms-icon xmark wh-20\"></i>\n              </div>\n              <div class=\"runtime\">{{ parseInt(d.runtime / 60, 10) }} мин</div>\n            </div>\n            <div class=\"downloads_progress\" v-else>\n              <div class=\"progress_bar\">\n                <div class=\"progress_bar-count\"\n                  :title=\"convertToText(d.uid)\"\n                  :style=\"progressStyles(d.uid)\"></div>\n              </div>\n            </div>\n          </div>\n          <div class=\"downloads_info\">\n            <div class=\"info_data\">{{ d.name }}</div>\n            <div class=\"info_name\" v-if=\"d.title\">{{ d.title }}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </article>\n</template>\n<script>\nimport Exchange from '../services/exchange.service';\nimport selecter from '../components/Selecter';\nimport fileUpload from '../components/FileUploader';\nimport CheckBox from '../components/Checkbox';\n\nexport default {\n  name: 'User',\n  components: { selecter, CheckBox, file: fileUpload },\n  data() {\n    return {\n      backend: new Exchange(),\n      userInfo: {\n        history: null,\n        downloads: null,\n        queue: null,\n        profile: {\n          uid: null,\n          autoSearch: false,\n          shareDownloads: false,\n          avatar: null,\n          chosenVoice: null,\n          username: null,\n          newAvatar: null,\n        },\n        isAdmin: false,\n        color: null,\n      },\n      newUser: {\n        username: null,\n        age: null,\n        password: null,\n        email: null,\n      },\n      extra: {},\n      isHistoryLong: false,\n      queueList: JSON.parse(localStorage.getItem('queue')),\n    };\n  },\n  methods: {\n    retrieveUserInfo() {\n      this.backend\n        .get('/api/user/')\n        .then((resp) => {\n          if (resp) {\n            this.userInfo.history = resp.body.history;\n            this.userInfo.downloads = resp.body.downloads;\n            this.userInfo.queue = resp.body.queue;\n            this.updateUserInfo(resp.extra.user_info);\n            this.extra = resp.extra;\n            this.isHistoryLong = this.userInfo.history ? this.userInfo.history.length > 4 : false;\n          } else {\n            console.log(this.backend.msg);\n          }\n        })\n        .catch(err => console.error(err));\n    },\n    updateUserInfo(userInfo) {\n      this.userInfo.profile.uid = userInfo.uid;\n      this.userInfo.profile.autoSearch = userInfo.auto_search;\n      this.userInfo.profile.shareDownloads = userInfo.share_downloads;\n      this.userInfo.profile.chosenVoice = userInfo.chosen_voice;\n      this.userInfo.profile.username = userInfo.username;\n      this.userInfo.profile.avatar = `/p/${userInfo.avatar}`;\n      this.userInfo.isAdmin = userInfo.is_admin;\n      this.userInfo.color = userInfo.user_color;\n    },\n    newUserCreate() {\n      const prevText = this.$refs.newUserButton.textContent;\n      this.$refs.newUserButton.textContent = '';\n      const password = this.newUser.password;\n      if (typeof this.newUser.password === 'string') {\n        this.newUser.password = [password, password];\n      }\n      this.backend\n        .post('/auth/new/', this.newUser)\n        .then((resp) => {\n          if (resp) {\n            console.log(this.backend.msg);\n          }\n        })\n        .catch(err => console.error(err))\n        .finally(() => {\n          this.$refs.newUserButton.textContent = prevText;\n          this.newUser = {\n            login: null, password: null, email: null, age: null,\n          };\n        });\n    },\n    changeUserInfo() {\n      const data = this.validateFormData();\n      const prevText = this.$refs.changeUserInfoButton.textContent;\n      this.$refs.changeUserInfoButton.textContent = '';\n      const formData = new FormData();\n      Object.keys(data)\n        .forEach(key => formData.append(key, data[key]));\n      formData.append('avatar', this.userInfo.profile.newAvatar);\n      formData.delete('newAvatar');\n      this.backend\n        .post('/api/user/', formData)\n        .then((resp) => {\n          if (resp) {\n            console.log(resp);\n          }\n        })\n        .catch(err => console.error(err))\n        .finally(() => {\n          this.$refs.changeUserInfoButton.textContent = prevText;\n        });\n    },\n    changeCheckbox(event, data) {\n      console.log(event, data);\n    },\n    validateFormData() {\n      const user = JSON.parse(localStorage.getItem('user'));\n      const userData = {\n        username: this.userInfo.profile.username !== user.username\n          ? this.userInfo.profile.username : null,\n        auto_search: this.userInfo.profile.autoSearch !== user.auto_search\n          ? this.translateFunc(this.userInfo.profile.autoSearch) : null,\n        share_downloads: this.userInfo.profile.shareDownloads !== user.shareDownloads\n          ? this.translateFunc(this.userInfo.profile.shareDownloads) : null,\n        voice: this.userInfo.profile.chosenVoice !== user.chosen_voice\n          ? this.userInfo.profile.chosenVoice : null,\n      };\n      return userData;\n    },\n    translateFunc(data) {\n      return data ? 'on' : 'off';\n    },\n    logout() {\n      this.$store.dispatch('logout');\n    },\n    clearQueue() {\n      if (this.userInfo.queue) {\n        this.backend\n          .post('/api/user/queue/delete')\n          .then((resp) => {\n            if (resp) {\n              console.log(resp);\n              localStorage.removeItem('queue');\n            }\n          })\n          .catch(err => console.error(err))\n          .finally(() => {\n            setTimeout(() => {\n              location.reload();\n            }, 1000);\n          });\n      } else {\n        localStorage.removeItem('queue');\n      }\n    },\n    downloadAll() {\n      const qId = this.saveQueue(true);\n      const postData = { queue_id: qId, type: 'multi' };\n      this.backend\n        .post('/api/download/', postData)\n        .then((resp) => {\n          if (resp) {\n            console.log(resp.message);\n          }\n        })\n        .catch(err => console.error(err));\n    },\n    downloadEl(qIndex, fname) {\n      this.clearEl(qIndex);\n      const postData = { filename: fname };\n      this.backend\n        .post('/api/download/', postData)\n        .then((resp) => {\n          console.log(resp, this.backend.msg);\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    },\n    downloadElFromQ() {\n      const postData = { queue_id: this.userInfo.extra.queue_id, type: 'ofq' };\n      this.backend\n        .post('/api/download/', postData)\n        .then((resp) => {\n          if (resp) {\n            console.log(resp.message);\n          }\n        })\n        .catch(err => console.error(err));\n    },\n    clearEl(index) {\n      const localQueue = JSON.parse(localStorage.getItem('queue'));\n      if (localQueue.length > 2) {\n        localQueue.splice(index, 1);\n        localStorage.setItem('queue', JSON.stringify(localQueue));\n      } else {\n        localStorage.removeItem('queue');\n      }\n    },\n    clearElFromQ(index, qType, uId) {\n      const postData = { type: qType, uid: uId };\n      this.backend\n        .delete('/api/user/queue', postData)\n        .then((resp) => {\n          if (resp) {\n            console.log(resp.message);\n            this.userInfo.queue.splice(index, 1);\n          }\n        })\n        .catch(err => console.error(err));\n    },\n    saveQueue(local = false) {\n      const queue = JSON.parse(localStorage.getItem('queue'));\n      this.backend\n        .post('/api/user/queue', queue)\n        .then((resp) => {\n          let qId = null;\n          if (resp) {\n            localStorage.removeItem('queue');\n            qId = resp.queue_id;\n          }\n          return qId;\n        })\n        .catch(err => console.error(err))\n        .finally(() => {\n          if (!local) {\n            setTimeout(() => {\n              location.reload();\n            }, 1000);\n          }\n        });\n    },\n    clearDownloads() {\n      const postData = { type: 'all' };\n      this.backend\n        .delete('/api/user/downloads', postData)\n        .then((resp) => {\n          if (resp) {\n            console.log(resp.message);\n            this.userInfo.downloads = null;\n          }\n        })\n        .catch(err => console.error(err));\n    },\n    clearDownload(index, dUid) {\n      const postData = { type: 'one', uid: dUid };\n      this.backend\n        .delete('/api/user/downloads', postData)\n        .then((resp) => {\n          if (resp) {\n            console.log(resp.message);\n            this.userInfo.downloads.splice(index, 1);\n          }\n        })\n        .catch(err => console.error(err));\n    },\n  },\n  computed: {\n    userFormValid() {\n      if (this.userInfo.profile.username) {\n        return this.userInfo.profile.username.length > 5 || this.userInfo.profile.username === 'admin';\n      }\n      return false;\n    },\n  },\n  created() {\n    this.retrieveUserInfo();\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@import \"@/assets/variables.scss\";\n\n.user{\n  .block {\n    &_info {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      color: $white;\n      margin-bottom: 15px;\n    }\n    &_title{\n      font-family: $title-font;\n      font-weight: bold;\n      font-size: 22px;\n    }\n    &_action{\n      font-family: $text-font;\n      font-size: 15px;\n      & > a {\n        margin-right: 10px;\n        &:last-child{\n          margin-right: 0;\n        }\n      }\n      .base_link{\n        opacity: .6;\n        cursor: pointer;\n        &:hover{\n          opacity: 1;\n        }\n      }\n    }\n  }\n  &_profile{\n    margin-bottom: 15px;\n    .btn_exit{\n      margin-top: 10px;\n      background: $chilly;\n    }\n    &-form{\n      display: flex;\n      justify-content: space-between;\n      .rightside{\n        width: 48%;\n        .form_row{\n          display: flex;\n          width: 100%;\n          justify-content: space-between;\n          .input_wide{\n            width: 49%;\n          }\n        }\n      }\n      .leftside{\n        width: 48%;\n        padding: 10px;\n        border-radius: 10px;\n        .form_row{\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 10px;\n        }\n        .form_column{\n          height: auto;\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n          .input_wide{\n            height: 25px;\n          }\n          & > div, & > .input_wide{\n            margin-bottom: 0;\n          }\n          &.small {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            width: 150px;\n          }\n          width: calc(100% - 160px);\n        }\n        .avatar{\n          &_image{\n            width: 120px;\n            height: 120px;\n          }\n        }\n      }\n    }\n  }\n  &_history, &_queue{\n    margin-bottom: 20px;\n  }\n  &_history{\n    &-wrapper{\n      display: flex;\n      overflow: hidden;\n      user-select: none;\n      .history{\n\n        &_item{\n          margin-right: 10px;\n          &:last-child{\n            margin-right: 0;\n          }\n          &-card{\n            border-radius: 8px;\n            position: relative;\n            margin-bottom: 5px;\n            &:hover .history_item-actions{\n              visibility: visible;\n            }\n            .preview_image{\n              max-width: 250px;\n            }\n          }\n          &-actions{\n            background: rgba($color: #000000, $alpha: .4);\n            position: absolute;\n            visibility: hidden;\n            border-radius: 8px;\n            height: calc(100% - 3px);\n            width: 100%;\n            left: 0;\n            top: 0;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            .delete_button{\n              border-radius: 50%;\n              background: $blue;\n              font-size: 20px;\n              color: $white;\n              height: 40px;\n              width: 40px;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              cursor: pointer;\n            }\n          }\n          &-info{\n            color: $white;\n            max-width: 240px;\n            margin: 0 auto;\n            .info_name{\n              font-family: $title-font;\n              margin-bottom: 5px;\n            }\n            .info_additional{\n              font-family: $text-font;\n              overflow: hidden;\n              max-width: 235px;\n              text-overflow: ellipsis;\n              white-space: nowrap;\n            }\n          }\n        }\n      }\n    }\n  }\n  &_queue{\n    &-wrapper{\n      display: flex;\n      overflow: hidden;\n    }\n    .queue{\n      &_item{\n        margin-right: 10px;\n        &:last-child{\n          margin-right: 0;\n        }\n      }\n      &_card{\n        font-family: $text-font;\n        border-radius: 8px;\n        position: relative;\n        margin-bottom: 5px;\n        &:hover .queue_actions{\n          visibility: visible;\n        }\n        .preview_image {\n          max-width: 250px;\n        }\n      }\n      &_actions{\n        background: rgba(0, 0, 0, .4);\n        visibility: hidden;\n        border-radius: 8px;\n        position: absolute;\n        height: calc(100% - 3px);\n        width: 100%;\n        left: 0;\n        top: 0;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        .download_button{\n          margin-right: 10px;\n        }\n        .download_button, .clear_button{\n          border-radius: 50%;\n          background: $blue;\n          font-size: 20px;\n          color: $white;\n          height: 40px;\n          width: 40px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n        }\n        .runtime {\n          visibility: visible;\n          position: absolute;\n          right: 5px;\n          bottom: 10px;\n          padding: 3px 5px;\n          background: rgba($color: #000000, $alpha: .3);\n          color: $white;\n          font-size: 14px;\n          border-radius: 3px;\n          text-shadow: $text-shadow;\n        }\n      }\n      &_info{\n        user-select: none;\n        color: $white;\n        max-width: 240px;\n        margin: 0 auto;\n        cursor: default;\n        .info_data{\n          margin-bottom: 5px;\n          font-family: $title-font;\n        }\n        .info_name{\n          font-family: $text-font;\n          white-space: nowrap;\n          overflow: hidden;\n          max-width: 235px;\n          text-overflow: ellipsis;\n        }\n      }\n    }\n  }\n  &_downloads{\n    &-wrapper{\n      display: flex;\n      overflow: hidden;\n    }\n    .downloads{\n      margin-right: 10px;\n      font-family: $text-font;\n      color: $white;\n      &:last-child{\n        margin-right: 0;\n      }\n      &_card{\n        border-radius: 8px;\n        position: relative;\n        margin-bottom: 5px;\n        &:hover .downloads_actions{\n          visibility: visible;\n        }\n        .preview_image{\n          max-width: 250px;\n        }\n      }\n      &_actions{\n        visibility: hidden;\n        background: rgba($color: #000000, $alpha: .4);\n        .base_button{\n          margin-right: 10px;\n          .ms-icon{\n            margin-left: 4px;\n          }\n        }\n        .clear_button, .base_button{\n          line-height: 40px;\n          border-radius: 50%;\n          background-color: $blue;\n          font-size: 20px;\n          color: $white;\n          height: 40px;\n          width: 40px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n        }\n        .runtime{\n          visibility: visible;\n          position: absolute;\n          right: 5px;\n          bottom: 10px;\n          padding: 4px 5px;\n          background: rgba($color: #000000, $alpha: .3);\n          color: $white;\n          font-size: 14px;\n          border-radius: 3px;\n          text-shadow: $text-shadow;\n        }\n      }\n      &_actions, &_progress{\n        border-radius: 8px;\n        position: absolute;\n        height: calc(100% - 3px);\n        width: 100%;\n        left: 0;\n        top: 0;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n      &_progress{\n        background: rgba($color: #000000, $alpha: .6);\n        .progress_bar{\n          width: 60px;\n          height: 60px;\n          &-count{\n            width: 100%;\n            height: 100%;\n            border-radius: 50%;\n          }\n        }\n      }\n      &_info{\n        max-width: 240px;\n        .info_data{\n          font-family: $title-font;\n        }\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/User.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"user page_wrapper\"},[_c('div',{staticClass:\"user_profile\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"user_profile-form\"},[_c('div',{staticClass:\"leftside\",style:((\"background: \" + (_vm.userInfo.color) + \"59;\"))},[_c('form',{staticClass:\"user_form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.changeUserInfo.apply(null, arguments)}}},[_c('div',{staticClass:\"form_row\"},[_c('div',{staticClass:\"form_column small\"},[_c('div',{staticClass:\"avatar\"},[(_vm.userInfo.profile.avatar)?_c('file',{staticClass:\"avatar_image\",attrs:{\"image\":\"avatar\",\"preview\":\"\",\"name\":\"avatar\",\"draggable\":\"\",\"existing\":_vm.userInfo.profile.avatar,\"color\":_vm.userInfo.color},model:{value:(_vm.userInfo.profile.newAvatar),callback:function ($$v) {_vm.$set(_vm.userInfo.profile, \"newAvatar\", $$v)},expression:\"userInfo.profile.newAvatar\"}}):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"form_column\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userInfo.profile.username),expression:\"userInfo.profile.username\"}],staticClass:\"input_wide\",attrs:{\"type\":\"text\",\"required\":\"\",\"placeholder\":\"Логин\",\"id\":\"cLogin\"},domProps:{\"value\":(_vm.userInfo.profile.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.userInfo.profile, \"username\", $event.target.value)}}}),_vm._v(\" \"),_c('selecter',{ref:\"userVoiceSelection\",attrs:{\"options\":_vm.extra.voices,\"multiple\":\"\",\"placeholder\":\"Выберите любимую озвучку\",\"updatable\":\"\"},model:{value:(_vm.userInfo.profile.chosenVoice),callback:function ($$v) {_vm.$set(_vm.userInfo.profile, \"chosenVoice\", $$v)},expression:\"userInfo.profile.chosenVoice\"}}),_vm._v(\" \"),_c('CheckBox',{attrs:{\"label\":\"Автоматический поиск\",\"user\":_vm.userInfo.profile.autoSearch,\"id\":(\"search_\" + (_vm.userInfo.profile.uid))},model:{value:(_vm.userInfo.profile.autoSearch),callback:function ($$v) {_vm.$set(_vm.userInfo.profile, \"autoSearch\", $$v)},expression:\"userInfo.profile.autoSearch\"}}),_vm._v(\" \"),_c('CheckBox',{attrs:{\"label\":\"Общий доступ к библиотеке\",\"user\":_vm.userInfo.profile.shareDownloads,\"id\":(\"share_\" + (_vm.userInfo.profile.uid))},model:{value:(_vm.userInfo.profile.shareDownloads),callback:function ($$v) {_vm.$set(_vm.userInfo.profile, \"shareDownloads\", $$v)},expression:\"userInfo.profile.shareDownloads\"}})],1)]),_vm._v(\" \"),_c('button',{ref:\"changeUserInfoButton\",staticClass:\"btn btn_submit\",class:_vm.userFormValid ? '': 'not_valid',attrs:{\"type\":\"submit\",\"disabled\":!_vm.userFormValid}},[_vm._v(\"Сохранить\")])])]),_vm._v(\" \"),(_vm.userInfo.isAdmin)?_c('div',{staticClass:\"rightside\"},[_c('div',{staticClass:\"form_title\"},[_vm._v(\"Создать пользователя\")]),_vm._v(\" \"),_c('form',{staticClass:\"new_user\",on:{\"submit\":function($event){$event.preventDefault();return _vm.newUserCreate.apply(null, arguments)}}},[_c('div',{staticClass:\"form_row\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newUser.username),expression:\"newUser.username\"}],staticClass:\"input_wide\",attrs:{\"type\":\"text\",\"placeholder\":\"Логин\",\"id\":\"nuLogin\",\"required\":\"\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.newUser.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newUser, \"username\", $event.target.value)}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newUser.age),expression:\"newUser.age\"}],staticClass:\"input_wide\",attrs:{\"type\":\"number\",\"placeholder\":\"Возраст\",\"required\":\"\",\"id\":\"nuAge\"},domProps:{\"value\":(_vm.newUser.age)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newUser, \"age\", $event.target.value)}}})]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newUser.password),expression:\"newUser.password\"}],staticClass:\"input_wide\",attrs:{\"type\":\"password\",\"placeholder\":\"Пароль\",\"required\":\"\",\"id\":\"nuPassword\"},domProps:{\"value\":(_vm.newUser.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newUser, \"password\", $event.target.value)}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newUser.email),expression:\"newUser.email\"}],staticClass:\"input_wide\",attrs:{\"type\":\"email\",\"placeholder\":\"Email\",\"required\":\"\",\"id\":\"nuEmail\"},domProps:{\"value\":(_vm.newUser.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newUser, \"email\", $event.target.value)}}}),_vm._v(\" \"),_c('button',{ref:\"newUserButton\",staticClass:\"btn btn_submit\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Создать\")])])]):_vm._e()]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn_submit btn_exit\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.logout}},[_vm._v(\"Выйти из аккаунта\")])]),_vm._v(\" \"),(_vm.userInfo.history && _vm.userInfo.history.length > 1)?_c('div',{staticClass:\"user_history\"},[_c('div',{staticClass:\"block_info\"},[_c('div',{staticClass:\"block_title\"},[_vm._v(\"История просмотра\")]),_vm._v(\" \"),_c('div',{staticClass:\"block_action\"},[_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isHistoryLong),expression:\"isHistoryLong\"}],staticClass:\"base_link\",attrs:{\"href\":\"/user/history\"}},[_vm._v(\"Показать остальное\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"user_history-wrapper\"},_vm._l((_vm.userInfo.history),function(history){return _c('div',{key:history.uid,staticClass:\"history_item\"},[_c('div',{staticClass:\"history_item-card\"},[(history.picture)?_c('img',{staticClass:\"base_image preview_image\",attrs:{\"src\":(\"/i/\" + (history.picture))}}):_c('img',{staticClass:\"base_image preview_image\",attrs:{\"src\":\"/static/default-history-image.png\"}}),_vm._v(\" \"),_c('div',{staticClass:\"history_item-actions\"},[_c('div',{staticClass:\"delete_button\",on:{\"click\":function($event){return _vm.deleteFromHistory(history.uid)}}},[_c('i',{staticClass:\"ms-icon xmark wh-20\"})])])]),_vm._v(\" \"),_c('div',{staticClass:\"history_item-info\"},[_c('div',{staticClass:\"info_name\"},[_vm._v(_vm._s(history.name))]),_vm._v(\" \"),_c('div',{staticClass:\"info_additional\",attrs:{\"title\":history.additional}},[_vm._v(_vm._s(history.additional))])])])}),0)]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.queueList && _vm.queueList.length >= 1\n    || _vm.userInfo.queue && _vm.userInfo.queue.length >= 1),expression:\"queueList && queueList.length >= 1\\n    || userInfo.queue && userInfo.queue.length >= 1\"}],staticClass:\"user_queue\"},[_c('div',{staticClass:\"block_info\"},[_c('div',{staticClass:\"block_title\"},[_vm._v(\"Очередь скачивания\")]),_vm._v(\" \"),_c('div',{staticClass:\"block_action\"},[(_vm.queueList && _vm.queueList.length > 1)?_c('a',{staticClass:\"base_link\",on:{\"click\":_vm.saveQueue}},[_vm._v(\"Сохранить очередь\")]):_vm._e(),_vm._v(\" \"),(_vm.queueList && _vm.queueList > 1 || _vm.userInfo.queue && _vm.userInfo.queue.length > 1)?_c('a',{staticClass:\"base_link clear_all_button\",on:{\"click\":_vm.clearQueue}},[_vm._v(\"\\n            Очистить очередь\")]):_vm._e(),_vm._v(\" \"),(_vm.queueList && _vm.queueList > 1 || _vm.userInfo.queue && _vm.userInfo.queue.length > 1)?_c('a',{staticClass:\"base_link download_all_button\",on:{\"click\":_vm.downloadAll}},[_vm._v(\"\\n          Скачать все\")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"user_queue-wrapper\"},[_vm._l((_vm.queueList),function(q,index){return _c('div',{key:q[q.type].uid,staticClass:\"queue_item\"},[_c('div',{staticClass:\"queue_card\"},[_c('img',{staticClass:\"base_image preview_image\",attrs:{\"src\":(\"/i/\" + (q[q.type].preview))}}),_vm._v(\" \"),_c('div',{staticClass:\"queue_actions\"},[_c('div',{staticClass:\"download_button\",on:{\"click\":function($event){return _vm.downloadEl(q[q.type].filename)}}},[_c('i',{staticClass:\"ms-icon download wh-20\"})]),_vm._v(\" \"),_c('div',{staticClass:\"clear_button\",on:{\"click\":function($event){return _vm.clearEl(index, q.type, q[q.type].uid)}}},[_c('i',{staticClass:\"ms-icon xmark wh-20\"})]),_vm._v(\" \"),_c('div',{staticClass:\"runtime\"},[_vm._v(\" \"+_vm._s(q[q.type].runtime))])])]),_vm._v(\" \"),_c('div',{staticClass:\"queue_info\"},[_c('div',{staticClass:\"info_data\"},[_vm._v(\"\\n            \"+_vm._s(q[q.type].name)+\" \"+_vm._s(q[q.type].season)+\" сезон \"+_vm._s(q[q.type].episode)+\" серия\\n          \")]),_vm._v(\" \"),_c('div',{staticClass:\"info_name\",attrs:{\"title\":q[q.type].title}},[_vm._v(_vm._s(q[q.type].title))])])])}),_vm._v(\" \"),_vm._l((_vm.userInfo.queue),function(q,index){return _c('div',{key:q.uid,staticClass:\"queue_item\"},[_c('div',{staticClass:\"queue_card\"},[_c('img',{staticClass:\"base_image preview_image\",attrs:{\"src\":(\"/i/\" + (q.picture)),\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"queue_actions\"},[_c('div',{staticClass:\"download_button\",on:{\"click\":function($event){return _vm.downloadElFromQ(index, q.uid)}}},[_c('div',{staticClass:\"ms-icon download wh-20\"})]),_vm._v(\" \"),_c('div',{staticClass:\"clear_button\",on:{\"click\":function($event){return _vm.clearElFromQ(index, q.type, q.uid)}}},[_c('i',{staticClass:\"ms-icon xmark wh-20\"})]),_vm._v(\" \"),_c('div',{staticClass:\"runtime\"},[_vm._v(\" \"+_vm._s(q.runtime)+\" мин\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"queue_info\"},[_c('div',{staticClass:\"info_data\"},[_vm._v(_vm._s(q.name))]),_vm._v(\" \"),_c('div',{staticClass:\"info_name\",attrs:{\"title\":q.additional}},[_vm._v(_vm._s(q.additional))])])])})],2)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.userInfo.downloads && _vm.userInfo.downloads.length >= 1),expression:\"userInfo.downloads && userInfo.downloads.length >= 1\"}],staticClass:\"user_downloads\"},[_c('div',{staticClass:\"block_info\"},[_c('div',{staticClass:\"block_title\"},[_vm._v(\"Загрузки\")]),_vm._v(\" \"),_c('div',{staticClass:\"block_action\"},[_c('a',{staticClass:\"base_link clear_all_button\",on:{\"click\":_vm.clearDownloads}},[_vm._v(\"Удалить все\")]),_vm._v(\" \"),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.userInfo.downloads && _vm.userInfo.downloads.length > 4),expression:\"userInfo.downloads && userInfo.downloads.length > 4\"}],staticClass:\"base_link\",attrs:{\"href\":\"/user/downloads\"}},[_vm._v(\"Показать остальное\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"user_downloads-wrapper\"},_vm._l((_vm.userInfo.downloads),function(d,index){return _c('div',{key:d.uid,staticClass:\"downloads\"},[_c('div',{staticClass:\"downloads_card\"},[_c('img',{staticClass:\"base_image preview_image\",attrs:{\"src\":(\"/i/\" + (d.preview))}}),_vm._v(\" \"),(d.completed)?_c('div',{staticClass:\"downloads_actions\"},[_c('a',{staticClass:\"base_link watch_button base_button\",attrs:{\"href\":(\"/watch/\" + (d.watch_uid))}},[_c('i',{staticClass:\"ms-icon play wh-20\"})]),_vm._v(\" \"),_c('div',{staticClass:\"clear_button\",on:{\"click\":function($event){return _vm.clearDownload(index, d.uid)}}},[_c('i',{staticClass:\"ms-icon xmark wh-20\"})]),_vm._v(\" \"),_c('div',{staticClass:\"runtime\"},[_vm._v(_vm._s(parseInt(d.runtime / 60, 10))+\" мин\")])]):_c('div',{staticClass:\"downloads_progress\"},[_c('div',{staticClass:\"progress_bar\"},[_c('div',{staticClass:\"progress_bar-count\",style:(_vm.progressStyles(d.uid)),attrs:{\"title\":_vm.convertToText(d.uid)}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"downloads_info\"},[_c('div',{staticClass:\"info_data\"},[_vm._v(_vm._s(d.name))]),_vm._v(\" \"),(d.title)?_c('div',{staticClass:\"info_name\"},[_vm._v(_vm._s(d.title))]):_vm._e()])])}),0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block_info\"},[_c('div',{staticClass:\"block_title\"},[_vm._v(\"Настройки профиля\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a2fd666c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/User.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a2fd666c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./User.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./User.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./User.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a2fd666c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./User.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a2fd666c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/User.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport Router from 'vue-router';\nimport store from '@/store';\nimport Index from '@/views/Index';\nimport Auth from '@/views/Auth';\nimport Search from '@/views/Search';\nimport MediaElements from '@/views/MediaElements';\nimport MediaElement from '@/views/MediaElement';\nimport EditMeta from '@/views/EditMeta';\nimport EditElement from '@/views/EditElement';\nimport Watch from '@/views/Watch';\nimport User from '@/views/User';\n\nVue.use(Router);\n\nconst router = new Router({\n  mode: 'history',\n  routes: [\n    {\n      path: '/',\n      name: 'Главная',\n      component: Index,\n    },\n    {\n      path: '/sign-in',\n      name: 'Авторизация',\n      component: Auth,\n    },\n    {\n      path: '/search',\n      name: 'Глобальный поиск',\n      component: Search,\n    },\n    {\n      path: '/tv',\n      name: 'Сериалы',\n      meta: {\n        mediaType: 'tv',\n      },\n      component: MediaElements,\n    },\n    {\n      path: '/movie',\n      name: 'Фильмы',\n      meta: {\n        mediaType: 'movie',\n      },\n      component: MediaElements,\n    },\n    {\n      path: '/user',\n      name: 'Профиль',\n      component: User,\n    },\n    {\n      path: '/watch/:uid',\n      name: 'Смотреть',\n      component: Watch,\n    },\n    {\n      path: '/edit/:uid',\n      name: 'Изменить метаданные',\n      component: EditMeta,\n    },\n    {\n      path: '/edit/movie/:uid',\n      name: 'Изменить информацию',\n      component: EditElement,\n    },\n    {\n      path: '/:uid',\n      name: '',\n      component: MediaElement,\n    },\n  ],\n});\n\nrouter.beforeEach((to, from, next) => {\n  const isAuth = store.getters.isAuthenticated;\n  if (to.matched.some(route => route.meta.requiresAuth) && !isAuth) {\n    next('/sign-in');\n  } else {\n    next();\n  }\n});\n\nexport default router;\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport VeeValidate from 'vee-validate';\nimport App from './App';\nimport router from './router';\nimport store from './store';\nimport './assets/main.scss';\n\nVue.config.productionTip = false;\nVue.use(VeeValidate);\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  render: h => h(App),\n  template: '<App/>',\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}